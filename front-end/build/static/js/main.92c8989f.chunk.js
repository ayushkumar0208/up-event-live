(this.webpackJsonpvideo=this.webpackJsonpvideo||[]).push([[0],{126:function(e,t,a){e.exports=a(205)},151:function(e,t){},154:function(e,t,a){},172:function(e,t,a){},173:function(e,t,a){},180:function(e,t,a){},181:function(e,t,a){},190:function(e,t,a){},191:function(e,t,a){},192:function(e,t,a){},193:function(e,t,a){},194:function(e,t,a){},195:function(e,t,a){},196:function(e,t,a){},197:function(e,t,a){},199:function(e,t,a){},200:function(e,t,a){},201:function(e,t,a){},202:function(e,t,a){},203:function(e,t,a){},205:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(30),s=a.n(o),c=a(6),i=a(23),l=a(22),m=a.n(l),u=a(32),d=a(42),v=a(43),g=a(46),p=a(45),h=a(58),f=a.n(h),E=a(229),b=(a(154),a(20)),w=a.n(b);a(172);function N(e){var t=e.conversation,a=e.currentUser,o=Object(n.useState)(null),s=Object(c.a)(o,2),i=s[0],l=s[1];return Object(n.useEffect)((function(){var e=t.members.find((function(e){return e!==a._id}));console.log(e),function(){var t=Object(u.a)(m.a.mark((function t(){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w()("http://localhost:8800/users/"+e);case 3:a=t.sent,console.log(a),l(a.data),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}()()}),[a,t]),r.a.createElement("div",{className:"conversation"},r.a.createElement("span",{className:"conversationName"},null===i||void 0===i?void 0:i.name))}a(173);var y=a(104);function S(e){var t=e.message,a=e.own;return r.a.createElement("div",{className:a?"message-panel own":"message-panel"},r.a.createElement("div",{className:"messageTop"},r.a.createElement("p",{className:"messageText"},t.text)),r.a.createElement("div",{className:"messageBottom"},Object(y.format)(t.createdAt)))}var O=a(19),j={user:JSON.parse(localStorage.getItem("User"))||{},isFetching:!1,error:!1},k=Object(n.createContext)(j);function C(){var e=Object(n.useState)(!1),t=Object(c.a)(e,2),a=t[0],o=t[1],s=Object(n.useState)([]),l=Object(c.a)(s,2),d=l[0],v=l[1],g=Object(n.useState)(null),p=Object(c.a)(g,2),h=p[0],E=p[1],b=Object(n.useState)([]),y=Object(c.a)(b,2),O=y[0],j=y[1],C=Object(n.useState)(""),x=Object(c.a)(C,2),L=x[0],M=x[1],U=Object(n.useState)(null),I=Object(c.a)(U,2),_=I[0],A=I[1],D=Object(n.useState)([]),P=Object(c.a)(D,2),B=(P[0],P[1]),T=Object(n.useRef)(),H=Object(n.useContext)(k).user,J=Object(n.useRef)();Object(n.useEffect)((function(){T.current=f()("ws://localhost:8900"),T.current.on("getMessage",(function(e){A({sender:e.senderId,text:e.text,createdAt:Date.now()})}))}),[]),Object(n.useEffect)((function(){_&&(null===h||void 0===h?void 0:h.members.includes(_.sender))&&j((function(e){return[].concat(Object(i.a)(e),[_])}))}),[_,h]),Object(n.useEffect)((function(){T.current.emit("addUser",H._id),T.current.on("getUsers",(function(e){B(H.followings.filter((function(t){return e.some((function(e){return e.userId===t}))})))}))}),[H]),Object(n.useEffect)((function(){(function(){var e=Object(u.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(H),e.next=4,w.a.get("http://localhost:8800/api/conversations/"+H._id);case 4:t=e.sent,console.log(t),v(t.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),[H._id]),Object(n.useEffect)((function(){(function(){var e=Object(u.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.a.get("http://localhost:8800/api/messages/"+(null===h||void 0===h?void 0:h._id));case 3:t=e.sent,console.log(t),j(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[h]);var F=function(){var e=Object(u.a)(m.a.mark((function e(t){var a,n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={sender:H._id,text:L,conversationId:h._id},n=h.members.find((function(e){return e!==H._id})),T.current.emit("sendMessage",{senderId:H._id,receiverId:n,text:L}),e.prev=4,e.next=7,w.a.post("http://localhost:8800/api/messages",a);case 7:r=e.sent,j([].concat(Object(i.a)(O),[r.data])),M(""),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"messenger"},r.a.createElement("p",{id:"panel-chat-title"},"Panel Chat"),a?r.a.createElement("div",{className:"chatBox"},r.a.createElement("div",{id:"chat-back-button"},r.a.createElement("button",{id:"back-menu-button",onClick:function(){return o(!1)}},"Back To Menu")),r.a.createElement("div",{className:"chatBoxWrapper"},h?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"chatBoxTop"},O.map((function(e){return r.a.createElement("div",{ref:J},r.a.createElement(S,{message:e,own:e.sender===H._id}))})))):r.a.createElement("span",{className:"noConversationText"},"Open a conversation to start a chat.")),r.a.createElement("div",{className:"chatBoxBottom"},r.a.createElement("input",{className:"chatMessageInput",placeholder:"write something...",onChange:function(e){return M(e.target.value)},value:L}),r.a.createElement("button",{className:"chatSubmitButton",onClick:F},"Send"))):r.a.createElement("div",{className:"chatMenu"},r.a.createElement("div",{className:"chatMenuWrapper"},d.map((function(e){return r.a.createElement("div",{onClick:function(){E(e),o(!0)},style:{backgroundColor:"rgb(49, 48, 48)"}},r.a.createElement(N,{conversation:e,currentUser:H}))})))))}var x=a(111),L=a.n(x),M=a(120),U=a.n(M),I=a(121),_=a.n(I),A=a(112),D=a.n(A),P=a(114),B=a.n(P),T=a(115),H=a.n(T),J=a(116),F=a.n(J),V=a(117),R=a.n(V),W=a(118),q=a.n(W),G=a(113),z=a.n(G),Y=a(119),Q=a.n(Y),$=a(230),K=(a(179),a(231)),X=(a(180),a(105)),Z=(a(181),a(14));var ee=function(){return r.a.createElement("div",{className:"user_not_found"},r.a.createElement("div",{className:"user_not_found_text_container"},r.a.createElement("p",{id:"user_not_found_text"},"You Need To Login First"),r.a.createElement(Z.b,{id:"user_not_found_button",to:"/log-in"},"Return to Login Page")),r.a.createElement("div",{className:"user_found_img_container"},r.a.createElement("img",{id:"user_not_found_img",src:"/NeedUser/NeedUser.gif",alt:""})))},te={},ae={iceServers:[{urls:"stun:stun.l.google.com:19302"}]},ne=null,re=null,oe=0,se=function(e){Object(g.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).localVideoref=r.a.createRef(),e.videoAvailable=!1,e.audioAvailable=!1,e.state={video:!0,audio:!0,screen:!1,showModal:!1,showPanel:!1,showEnd:!0,screenAvailable:!1,messages:[],message:"",newmessages:0,askForUsername:!0,username:e.props.user.name,eventId:[],participants:[]},e.connections={},e.getPermissions=Object(u.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,navigator.mediaDevices.getUserMedia({video:!0}).then((function(){return e.videoAvailable=!0})).catch((function(){return e.videoAvailable=!1}));case 3:return t.next=5,navigator.mediaDevices.getUserMedia({audio:!0}).then((function(){return e.audioAvailable=!0})).catch((function(){return e.audioAvailable=!1}));case 5:navigator.mediaDevices.getDisplayMedia?e.setState({screenAvailable:!0}):e.setState({screenAvailable:!1}),(e.videoAvailable||e.audioAvailable)&&navigator.mediaDevices.getUserMedia({video:e.videoAvailable,audio:e.audioAvailable}).then((function(t){window.localStream=t,e.localVideoref.current.srcObject=t})).then((function(e){})).catch((function(e){return console.log(e)})),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])}))),e.getMedia=function(){e.setState({video:e.videoAvailable,audio:e.audioAvailable},(function(){e.getUserMedia(),e.connectToSocketServer()}))},e.getUserMedia=function(){if(e.state.video&&e.videoAvailable||e.state.audio&&e.audioAvailable)navigator.mediaDevices.getUserMedia({video:e.state.video,audio:e.state.audio}).then(e.getUserMediaSuccess).then((function(e){})).catch((function(e){return console.log(e)}));else try{e.localVideoref.current.srcObject.getTracks().forEach((function(e){return e.stop()}))}catch(t){}},e.getUserMediaSuccess=function(t){try{window.localStream.getTracks().forEach((function(e){return e.stop()}))}catch(r){console.log(r)}window.localStream=t,e.localVideoref.current.srcObject=t;var a=function(e){if(e===re)return"continue";te[e].addStream(window.localStream),te[e].createOffer().then((function(t){te[e].setLocalDescription(t).then((function(){ne.emit("signal",e,JSON.stringify({sdp:te[e].localDescription}))})).catch((function(e){return console.log(e)}))}))};for(var n in te)a(n);t.getTracks().forEach((function(t){return t.onended=function(){e.setState({video:!1,audio:!1},(function(){try{e.localVideoref.current.srcObject.getTracks().forEach((function(e){return e.stop()}))}catch(r){console.log(r)}window.localStream=function(){var t;return new MediaStream([(t=e).black.apply(t,arguments),e.silence()])}(),e.localVideoref.current.srcObject=window.localStream;var t=function(e){te[e].addStream(window.localStream),te[e].createOffer().then((function(t){te[e].setLocalDescription(t).then((function(){ne.emit("signal",e,JSON.stringify({sdp:te[e].localDescription}))})).catch((function(e){return console.log(e)}))}))};for(var a in te)t(a)}))}}))},e.getDislayMedia=function(){e.state.screen&&navigator.mediaDevices.getDisplayMedia&&navigator.mediaDevices.getDisplayMedia({video:!0,audio:!0}).then(e.getDislayMediaSuccess).then((function(e){})).catch((function(e){return console.log(e)}))},e.getDislayMediaSuccess=function(t){try{window.localStream.getTracks().forEach((function(e){return e.stop()}))}catch(r){console.log(r)}window.localStream=t,e.localVideoref.current.srcObject=t;var a=function(e){if(e===re)return"continue";te[e].addStream(window.localStream),te[e].createOffer().then((function(t){te[e].setLocalDescription(t).then((function(){ne.emit("signal",e,JSON.stringify({sdp:te[e].localDescription}))})).catch((function(e){return console.log(e)}))}))};for(var n in te)a(n);t.getTracks().forEach((function(t){return t.onended=function(){e.setState({screen:!1},(function(){try{e.localVideoref.current.srcObject.getTracks().forEach((function(e){return e.stop()}))}catch(r){console.log(r)}window.localStream=function(){var t;return new MediaStream([(t=e).black.apply(t,arguments),e.silence()])}(),e.localVideoref.current.srcObject=window.localStream,e.getUserMedia()}))}}))},e.gotMessageFromServer=function(e,t){var a=JSON.parse(t);e!==re&&(a.sdp&&te[e].setRemoteDescription(new RTCSessionDescription(a.sdp)).then((function(){"offer"===a.sdp.type&&te[e].createAnswer().then((function(t){te[e].setLocalDescription(t).then((function(){ne.emit("signal",e,JSON.stringify({sdp:te[e].localDescription}))})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)})),a.ice&&te[e].addIceCandidate(new RTCIceCandidate(a.ice)).catch((function(e){return console.log(e)})))},e.changeCssVideos=function(e){var t="30%";30*e.offsetWidth/100<300&&(t="250px");var a=String(100/oe)+"%",n="";0===oe||1===oe?(n="100%",a="100%"):2===oe?(n="48%",a="95%"):(n="32.5%",a="48%");for(var r=e.querySelectorAll("video"),o=0;o<r.length;++o)r[o].style.minWidth=t,r[o].style.minHeight="200px",r[o].style.setProperty("width",n),r[o].style.setProperty("height",a);return{minWidth:t,minHeight:"200px",width:n,height:a}},e.connectToSocketServer=function(){(ne=f.a.connect("http://localhost:4001",{secure:!0})).on("signal",e.gotMessageFromServer),ne.on("connect",(function(){ne.emit("join-call",window.location.href),re=ne.id,ne.on("chat-message",e.addMessage),ne.on("user-left",(function(t){var a=document.querySelector('[data-socket="'.concat(t,'"]'));if(null!==a){oe--,a.parentNode.removeChild(a);var n=document.getElementById("stream-main");e.changeCssVideos(n)}})),ne.on("user-joined",(function(t,a){if(a.forEach((function(t){if(te[t]=new RTCPeerConnection(ae),te[t].onicecandidate=function(e){null!=e.candidate&&ne.emit("signal",t,JSON.stringify({ice:e.candidate}))},te[t].onaddstream=function(n){var r=document.querySelector('[data-socket="'.concat(t,'"]'));if(null!==r)r.srcObject=n.stream;else{oe=a.length;var o=document.getElementById("stream-main"),s=e.changeCssVideos(o),c=document.createElement("video"),i={minWidth:s.minWidth,minHeight:s.minHeight,maxHeight:"95%",margin:"0.25vw",border:"2px solid rgb(45, 45, 45)",objectFit:"fill"};for(var l in i)c.style[l]=i[l];c.style.setProperty("width",s.width),c.style.setProperty("height",s.height),c.setAttribute("data-socket",t),c.srcObject=n.stream,c.autoplay=!0,c.playsinline=!0,o.appendChild(c)}},void 0!==window.localStream&&null!==window.localStream)te[t].addStream(window.localStream);else{window.localStream=function(){var t;return new MediaStream([(t=e).black.apply(t,arguments),e.silence()])}(),te[t].addStream(window.localStream)}})),t===re){var n=function(e){if(e===re)return"continue";try{te[e].addStream(window.localStream)}catch(t){}te[e].createOffer().then((function(t){te[e].setLocalDescription(t).then((function(){ne.emit("signal",e,JSON.stringify({sdp:te[e].localDescription}))})).catch((function(e){return console.log(e)}))}))};for(var r in te)n(r)}}))}))},e.silence=function(){var e=new AudioContext,t=e.createOscillator(),a=t.connect(e.createMediaStreamDestination());return t.start(),e.resume(),Object.assign(a.stream.getAudioTracks()[0],{enabled:!1})},e.black=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.width,a=void 0===t?640:t,n=e.height,r=void 0===n?480:n,o=Object.assign(document.createElement("canvas"),{width:a,height:r});o.getContext("2d").fillRect(0,0,a,r);var s=o.captureStream();return Object.assign(s.getVideoTracks()[0],{enabled:!1})},e.handleVideo=function(){return e.setState({video:!e.state.video},(function(){return e.getUserMedia()}))},e.handleAudio=function(){return e.setState({audio:!e.state.audio},(function(){return e.getUserMedia()}))},e.handleScreen=function(){return e.setState({screen:!e.state.screen},(function(){return e.getDislayMedia()}))},e.handleEndCall=function(){try{e.localVideoref.current.srcObject.getTracks().forEach((function(e){return e.stop()}))}catch(t){}e.props.setLink({}),window.location.href="/return-home"},e.handleChat=function(){e.state.showModal?e.setState({showModal:!1,newmessages:0}):(e.setState({showModal:!0}),0!==e.state.newmessages&&e.setState({newmessages:0})),console.log(e.state.participants),console.log(e.props.Link)},e.openChat=function(){return e.setState({showModal:!0,newmessages:0})},e.closeChat=function(){return e.setState({showModal:!1})},e.handleMessage=function(t){return e.setState({message:t.target.value})},e.addMessage=function(t,a,n){e.setState((function(e){return{messages:[].concat(Object(i.a)(e.messages),[{sender:a,data:t}])}})),n!==re&&e.setState({newmessages:e.state.newmessages+1})},e.handleUsername=function(t){return e.setState({username:t.target.value})},e.sendMessage=function(){""===e.state.message?alert("Please Enter Message"):(ne.emit("chat-message",e.state.message,e.props.user.name),e.setState({message:"",sender:e.props.user.name}))},e.copyUrl=function(){var e=window.location.href;if(navigator.clipboard)navigator.clipboard.writeText(e).then((function(){$.b.success("Link copied to clipboard!")}),(function(){$.b.error("Failed to copy")}));else{var t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy"),$.b.success("Link copied to clipboard!")}catch(a){$.b.error("Failed to copy")}document.body.removeChild(t)}},e.connect=function(){e.setState({askForUsername:!1,panelist:e.props.Link.data},(function(){return e.getMedia()}))},e.isChrome=function(){var e=(navigator&&(navigator.userAgent||"")).toLowerCase(),t=(navigator&&(navigator.vendor||"")).toLowerCase();return null!==(/google inc/.test(t)?e.match(/(?:chrome|crios)\/(\d+)/):null)},e.toggleChatBox=function(){var e=document.getElementById("connected-chat");"none"===e.style.display?e.style.display="block":e.style.display="none"},e.togglePanelChat=function(){e.setState({showPanel:!e.state.showPanel}),fetch("http://localhost:8800/getParticipants").then((function(e){return e.json()})).then((function(t){e.setState({participants:t})}));var t=e.props.event.eventId,a=[];e.state.participants.forEach((function(e){var n=e.joinCode.split("-");e.eventId===t&&e.hostCode===n[1]&&a.push(e)})),console.log(a);for(var n=a.length,r=0;r<n;r++)for(var o=a[r],s=r+1;s<n;s++){var c=a[s];w.a.post("http://localhost:8800/api/conversations",{senderId:o.userId,receiverId:c.userId}).then((function(e){console.log("Conversation Added Successfully!")}))}},e.endEvent=function(){var t="http://localhost:8800/deleteEvent/"+e.props.event._id;console.log(t),console.log(e.props.event),w.a.delete(t),e.setState({showEnd:!1})},e}return Object(v.a)(a,[{key:"componentDidMount",value:function(){this.getPermissions()}},{key:"render",value:function(){var e=this;return!1===this.isChrome()?r.a.createElement("div",null,r.a.createElement("h1",null,"Sorry, this works only with Google Chrome")):r.a.createElement("div",{className:"Video-temp"},this.props.user&&this.props.user._id&&this.props.event?r.a.createElement("div",{className:"Video"},!0===this.state.askForUsername?r.a.createElement("div",{className:"connect-stream-main"},r.a.createElement("div",{style:{background:"#FDFDFC"}},r.a.createElement("p",{id:"event-heading"},this.props.event.eventName),r.a.createElement("p",{id:"event-orgBy"},"Organized By : ",this.props.event.orgBy),r.a.createElement("p",{id:"event-desc"},this.props.event.desc)),r.a.createElement("div",{className:"event-container-2"},console.log(this.props.user.name),r.a.createElement("div",{style:{backgroundColor:"transparent"}},r.a.createElement("img",{id:"connect-stream-img",src:"/JoinEventImages/JoinEvent.gif",alt:""})),r.a.createElement("p",{id:"event-user"},"Joining as ",this.props.user.name),this.props.user.email===this.props.event.createdBy?r.a.createElement("p",{id:"event-user"},"Host Code : ",this.props.event.hostCode):null,r.a.createElement("div",{className:"connect-btn-down"},r.a.createElement("button",{id:"connect-button",variant:"contained",color:"primary",onClick:this.connect},"Join Event")))):r.a.createElement("div",{className:"connected-main"},r.a.createElement("div",{className:"connected"},r.a.createElement("div",{className:"video-container"},r.a.createElement("div",{className:"link-copy-container"},r.a.createElement("div",{style:{height:"10vh",backgroundColor:"rgb(66, 65, 65)"}},r.a.createElement("p",{id:"Event-heading"},this.props.event.eventName),r.a.createElement("p",{id:"Event-orgBy"},"Organized By: ",this.props.event.orgBy))),r.a.createElement("div",{className:"stream-container"},r.a.createElement(K.a,{id:"stream-main",className:"flex-container"},r.a.createElement("video",{id:"my-video",ref:this.localVideoref,autoPlay:!0,muted:!0})))),r.a.createElement("div",{className:"btn-down"},r.a.createElement("button",{className:"stream-options",style:{color:"#424242",background:"tranparent"},onClick:this.handleVideo},!0===this.state.video?r.a.createElement(L.a,null):r.a.createElement(D.a,null)),r.a.createElement("button",{className:"stream-options",style:{color:"#f44336"},onClick:this.handleEndCall},r.a.createElement(z.a,null)),r.a.createElement("button",{className:"stream-options",style:{color:"#424242"},onClick:this.handleAudio},!0===this.state.audio?r.a.createElement(B.a,null):r.a.createElement(H.a,null)),this.props.Link.data&&this.props.Link.data.length>1?r.a.createElement("button",{className:"stream-options",onClick:this.togglePanelChat},r.a.createElement(F.a,null)):null,this.props.Link.data&&this.props.Link.data.length>1&&!0===this.state.screenAvailable?r.a.createElement("button",{className:"stream-options",style:{color:"#424242"},onClick:this.handleScreen},!0===this.state.screen?r.a.createElement(R.a,null):r.a.createElement(q.a,null)):null,r.a.createElement(E.a,{badgeContent:this.state.newmessages,max:999,id:"temp",color:"secondary"},r.a.createElement("button",{className:"stream-options",style:{color:"#424242"},onClick:this.handleChat},r.a.createElement(Q.a,null))),this.props.Link.data&&this.props.Link.data.length>1&&!0===this.state.screenAvailable?r.a.createElement("button",{id:"copy-button",onClick:this.copyUrl},r.a.createElement(U.a,null)):null,this.props.Link.data&&this.props.Link.data.length>1&&this.props.user.email===this.props.event.createdBy&&this.state.showEnd?r.a.createElement("button",{className:"stream-options",onClick:this.endEvent},"End"):null)),this.state.showPanel&&this.props.Link.data&&this.props.Link.data.length>1?r.a.createElement("div",{style:{background:"transparent",margin:"auto"}},r.a.createElement(C,null)):null,this.state.showModal?r.a.createElement("div",{className:"connected-chat"},r.a.createElement("p",{id:"chat-title"},"Chat"),r.a.createElement("div",{className:"chat-message-section"},r.a.createElement(X.a,{className:"scrollable-feed"},this.state.messages.length>0?this.state.messages.map((function(e,t){return r.a.createElement("div",{className:"remaining",key:t},r.a.createElement("div",{className:"messages",id:"mess-content"},r.a.createElement("b",{className:"chat-user"},e.sender),r.a.createElement("p",{className:"chat-message"},e.data)))})):r.a.createElement("p",{style:{textAlign:"center",color:"white",backgroundColor:"transparent",fontSize:"0.9vw"}},"No message yet"))),r.a.createElement("div",{className:"chat-input-container"},r.a.createElement("input",{id:"chat-input",placeholder:"Message",value:this.state.message,onChange:function(t){return e.handleMessage(t)}}),r.a.createElement("button",{id:"chat-send-button",variant:"contained",color:"primary",onClick:this.sendMessage},r.a.createElement(_.a,null)))):null)):r.a.createElement("div",null,r.a.createElement(ee,null)))}}]),a}(n.Component),ce=(a(190),a(191),function(e){Object(g.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={changeColor:!1},e.logout=function(t){t.preventDefault(),e.props.setLoginUser({})},e.colorHandler=function(t){t.preventDefault(),window.scrollY>100?e.setState({changeColor:!0}):e.setState({changeColor:!1})},e}return Object(v.a)(a,[{key:"render",value:function(){return window.addEventListener("scroll",this.colorHandler),r.a.createElement("div",{className:this.state.changeColor?"NavMenu NavMenu-bg":"NavMenu"},window.addEventListener("scroll",this.colorHandler),r.a.createElement("div",{className:"logo"},r.a.createElement("img",{id:"logo-image",src:"https://www.pngkey.com/png/full/352-3520852_restaurant-logo-design-png.png",alt:""})),r.a.createElement("div",{className:"options"},r.a.createElement(Z.b,{className:"option",to:"/"},"Home"),r.a.createElement(Z.b,{className:"option",to:"/features"},"Features"),this.props.user&&this.props.user._id?r.a.createElement("div",{id:"after-login-options"},r.a.createElement(Z.b,{className:"option",to:"/create-event"},"Host Event"),r.a.createElement(Z.b,{className:"option",to:"/join-event"},"Join Event"),r.a.createElement("div",{className:"Navbar-logout"},r.a.createElement("p",{id:"navbar-username"},this.props.user.name),r.a.createElement("div",{className:"logout-button",onClick:this.logout},"Logout"))):r.a.createElement(Z.b,{className:"option login-option",to:"/log-in"},"LogIn/SignUp")))}}]),a}(n.Component));a(192);var ie=function(){return r.a.createElement("div",{className:"footerBar"},r.a.createElement("div",{className:"footer-main"},r.a.createElement("div",{className:"footer-heading"},r.a.createElement("img",{id:"footer-logo",src:"https://www.pngkey.com/png/full/352-3520852_restaurant-logo-design-png.png",alt:""}),r.a.createElement("p",{className:"site-name"},"UpEvent")),r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"footer-options"},r.a.createElement("div",{className:"footer-option1"},r.a.createElement("p",{className:"footer-option-heading"},"Quick Links"),r.a.createElement(Z.b,{className:"footer-option",to:"/"},"Home"),r.a.createElement(Z.b,{className:"footer-option",to:"/features"},"Features")),r.a.createElement("div",{className:"footer-option2"},r.a.createElement("p",{className:"footer-option-heading"},"Virtual Events"),r.a.createElement(Z.b,{className:"footer-option",to:"/create-event"},"Create Event"),r.a.createElement(Z.b,{className:"footer-option",to:"/join-event"},"Join Event")))),r.a.createElement("div",{className:"footer-img"},r.a.createElement("img",{id:"footer-image",src:"/FooterImages/FooterBar.png",alt:""})))};var le=function(e){return Object(n.useLayoutEffect)((function(){window.scrollTo(0,0)})),r.a.createElement("div",{className:"features"},r.a.createElement(ce,{user:e.user,setLoginUser:e.setLoginUser}),r.a.createElement("div",{className:"features-container1"},r.a.createElement("div",{className:"features-text"},r.a.createElement("p",{className:"features-title"},"Host Stunning Events from your Personalised Virtual Venue"),r.a.createElement("p",{className:"features-content"},"Virtual Events Hosting offers fully branded and secure alternatives to standard conferencing and live-stream platforms. Provide a highly customisable stage for your live stream. Everything required to run a live stream built-in including HD (up to 4k) video player, production capabilities, live chat, polls and custom widgets for data collection.")),r.a.createElement("div",{className:"features-image-container"},r.a.createElement("img",{id:"features-img",src:"/FeaturesImages/Feature1.gif",alt:""}))),r.a.createElement("div",{className:"features-container2"},r.a.createElement("div",{className:"features-image-container"},r.a.createElement("img",{id:"features-img",src:"/FeaturesImages/Feature4.gif",alt:""})),r.a.createElement("div",{className:"features-text"},r.a.createElement("p",{className:"features-title"},"Smart, flexible, and powerful event registration system"),r.a.createElement("p",{className:"features-content"},r.a.createElement("ul",null,r.a.createElement("li",null,"A smarter way to register"),r.a.createElement("li",null,"Registration with the power to flex"),r.a.createElement("li",null,"Powerful enough for your most complex events"),r.a.createElement("li",null,"Increase productivity"))))),r.a.createElement(ie,null))};a(193),a(194);var me=function(){return r.a.createElement("div",{className:"event-home"},r.a.createElement("div",{className:"ehome-container"},r.a.createElement("div",{className:"ehome-text-container"},r.a.createElement("h1",{className:"ehome-heading"},"Host Your Own Event"),r.a.createElement("p",{className:"ehome-content"},"We let you stay in touch with all your friends.")),r.a.createElement("div",{className:"ehome-join-container"},r.a.createElement("img",{id:"ehome-join-img",src:"/EventHomePage/EventHome.gif",alt:""}),r.a.createElement(Z.b,{className:"option",to:"/create-event"},r.a.createElement("button",{id:"ehome-join-button"},"Create an Event")))))};var ue=function(e){return Object(n.useLayoutEffect)((function(){window.scrollTo(0,0)})),r.a.createElement("div",{className:"Home"},r.a.createElement(ce,{user:e.user,setLoginUser:e.setLoginUser}),r.a.createElement("div",{className:"home-container1"},r.a.createElement("div",{className:"home-text"},r.a.createElement("p",{className:"home-title"},"Virtual Event Hosting"),r.a.createElement("p",{className:"home-content"},"We help you host a virtual exhibition, tradeshow, or career fair with our powerful webcast solutions and give a unique experience for your audience.")),r.a.createElement("div",{className:"home-image-container"},r.a.createElement("img",{id:"home-img",src:"/HomePageImages/Home_2.gif",alt:""}))),e.user&&e.user._id?r.a.createElement(me,null):r.a.createElement("p",null),r.a.createElement("div",{className:"home-container2"},r.a.createElement("img",{id:"home-img",src:"/HomePageImages/Home_1.gif",alt:""}),r.a.createElement("div",{className:"home-text"},r.a.createElement("p",{className:"home-title"},"Executing the plan"),r.a.createElement("p",{className:"home-content"},"We make sure that the virtual event is executed as planned and we update you regarding the progress and the outcome that can be expected in every step. Overall we ensure that the event takes place as planned."))),r.a.createElement("div",{className:"home-container3"},r.a.createElement("div",{className:"home-text"},r.a.createElement("p",{className:"home-title"},"Developing a Strategy"),r.a.createElement("p",{className:"home-content"},"We create a simple draft about what needs to be done so that everyone can follow the plan and set a timeline that is realistic and attainable. To ensure the work is on track we establish baselines or performance measures and the objectives, deliverables, and key milestones are clearly defined.")),r.a.createElement("img",{id:"home-img",className:"image-3",src:"/HomePageImages/Home_3.gif",alt:""})),r.a.createElement("div",null,r.a.createElement("p",{className:"join-panel"})),r.a.createElement(ie,null))};a(195),a(196);var de=function(){return r.a.createElement("div",{className:"error-404"},r.a.createElement("img",{id:"error-404-img",src:"/PageNotFound/Error404.gif",alt:""}),r.a.createElement("p",{id:"error-404-text"},"Page Not Found"))};var ve=function(e){return r.a.createElement("div",{className:"thank"},e.user&&e.user._id&&e.event?r.a.createElement("div",{className:"thank-main"},r.a.createElement("p",{id:"thank-text"},"Thank's for joining ",e.event.eventName),r.a.createElement("img",{id:"thank-img",src:"/Thanks/ReturHome.gif",alt:""}),r.a.createElement("button",{id:"return-home-button",onClick:function(){window.location.href="/",e.setEventInfo({})}},"Return to Home")):r.a.createElement(de,null))},ge=a(13),pe=(a(197),a(5));a(198).hashCode;var he=function(e){var t=Object(pe.f)();Object(n.useLayoutEffect)((function(){window.scrollTo(0,0)}));var a=Object(n.useState)({email:"",password:""}),o=Object(c.a)(a,2),s=o[0],i=o[1],l=function(e){var t=e.target,a=t.name,n=t.value;i(Object(O.a)(Object(O.a)({},s),{},Object(ge.a)({},a,n)))};function d(){return(d=Object(u.a)(m.a.mark((function a(n){var r;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:r=!1,fetch("http://localhost:8800/allusers").then((function(e){return e.json()})).then((function(a){a.forEach((function(a){0===a.email.localeCompare(s.email)&&(r=!0,0===a.password.localeCompare(s.password)?w.a.post("http://localhost:8800/login",s).then((function(a){e.setLoginUser(a.data.user),t("/")})):alert("Invalid Credentials"))})),!1===r&&alert("User not found")}));case 2:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return r.a.createElement("div",{className:"login"},r.a.createElement(ce,{user:e.user,setLoginUser:e.setLoginUser}),r.a.createElement("div",{className:"login-main-container"},r.a.createElement("div",{className:"login-img-container"},r.a.createElement("img",{id:"login-img",src:"/LoginPageImages/Login.png",alt:""})),r.a.createElement("div",{className:"login-main"},r.a.createElement("div",{className:"login-container"},r.a.createElement("p",{className:"login-heading"},"Login"),r.a.createElement("div",{className:"login-text-fields"},r.a.createElement("input",{className:"login-entry",type:"text",name:"email",value:s.email,placeholder:"Username/Email",onChange:l}),r.a.createElement("input",{className:"login-entry",type:"password",name:"password",value:s.password,placeholder:"Password",onChange:l})),r.a.createElement("div",{className:"login-button",onClick:function(e){return d.apply(this,arguments)}},"Login"),r.a.createElement(Z.b,{className:"login-new-register",to:"/register"},"New User? Register")))))};a(199);var fe=function(e){return Object(n.useLayoutEffect)((function(){window.scrollTo(0,0)})),r.a.createElement("div",{className:"premium"},r.a.createElement(ce,{user:e.user,setLoginUser:e.setLoginUser}),"Premium",r.a.createElement("p",null,"a"),r.a.createElement("p",null,"a"),r.a.createElement("p",null,"a"),r.a.createElement("p",null,"a"),r.a.createElement("p",null,"a"),r.a.createElement(ie,null))};a(200);var Ee=function(e){Object(n.useEffect)((function(){fetch("http://localhost:8800/onGoingEvent").then((function(e){return e.json()})).then((function(e){t.push.apply(t,t),t.push(e)}))})),Object(n.useLayoutEffect)((function(){window.scrollTo(0,0)}));var t=[],a=Object(n.useState)({_id:"",eventName:"",orgBy:"",desc:"",createdBy:""}),o=Object(c.a)(a,2),s=o[0],i=o[1],l=function(t){var a,n=t.target,r=n.name,o=n.value;i(Object(O.a)(Object(O.a)({},s),{},(a={},Object(ge.a)(a,r,o),Object(ge.a)(a,"createdBy",e.user.email),a)))};return r.a.createElement("div",{className:"create-event"},e.user&&e.user._id?r.a.createElement("div",null,r.a.createElement(ce,{user:e.user,setLoginUser:e.setLoginUser}),r.a.createElement("div",{className:"create-event-main"},r.a.createElement("img",{id:"create-event-img",src:"/CreateEventImages/CreateEvent.gif",alt:""}),r.a.createElement("div",{className:"create-form"},r.a.createElement("p",{id:"create-form-heading"},"Create An Event"),r.a.createElement("input",{id:"event-name",type:"text",name:"eventName",value:s.eventName,placeholder:"Enter Event Name",onChange:l}),r.a.createElement("input",{id:"event-org",type:"text",name:"orgBy",value:s.orgBy,placeholder:"Organized By",onChange:l}),r.a.createElement("textarea",{name:"desc",value:s.desc,id:"event-description",cols:"25",rows:"10",placeholder:"Enter Event Description",onChange:l}),r.a.createElement("button",{id:"create-button",onClick:function(){var a=Math.random().toString(36).substring(2,12),n=Math.random().toString(36).substring(2,7);e.setLink({data:n});var r={eventName:s.eventName,orgBy:s.orgBy,desc:s.desc,eventId:a,createdBy:e.user.email,hostCode:n};w.a.post("http://localhost:8800/onGoingEvent",r).then((function(e){console.log("Got Data"),console.log(t)})),e.setEventInfo(r),window.open("/event/".concat(a),"_blank")}},"Create")))):r.a.createElement(ee,null))},be=(a(201),function(e){Object(g.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={url:"",activeEvents:[]},e.handleChange=function(t){return e.setState({url:t.target.value})},e.join=function(){var t=e.state.url.split("-"),a="";t.length>1&&e.state.activeEvents.forEach((function(e){console.log(e._id),0===t[1].toString().localeCompare(e.hostCode)&&(a=t[t.length-1])})),e.props.setLink({data:a});var n=!1,r={};console.log(e.state.activeEvents),e.state.activeEvents.forEach((function(e){0===t[0].toString().localeCompare(e.eventId)&&(n=!0,r=e)})),e.props.setEventInfo(r),w.a.post("http://localhost:8800/participant",{eventId:r.eventId,hostCode:r.hostCode,joinCode:t[0]+"-"+a,email:e.props.user.email,userId:e.props.user._id}).then((function(e){console.log("Added Participant")})).catch((function(e){console.log(e)})),n?window.open("/event/".concat(t[0]),"_blank"):alert("Wrong Event Code")},e}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("http://localhost:8800/onGoingEvent").then((function(e){return e.json()})).then((function(t){e.setState({activeEvents:t})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"join-event"},this.props.user&&this.props.user._id?r.a.createElement("div",null,r.a.createElement(ce,{user:this.props.user,setLoginUser:this.props.setLoginUser}),r.a.createElement("div",{className:"event-container"},r.a.createElement("div",{className:"event-text-container"},r.a.createElement("img",{id:"event-join-img",src:"/JoinEventImages/JoinEvent2.gif",alt:""})),r.a.createElement("div",{className:"event-join-container"},r.a.createElement("h1",{className:"event-heading"},"Join Event from Anywhere simply with a Event Code."),r.a.createElement("p",{className:"event-content2"},"Join Event"),r.a.createElement("input",{id:"event-url-input",placeholder:"Enter Event Code",onChange:function(t){return e.handleChange(t)}}),r.a.createElement("button",{id:"event-join-button",onClick:this.join},"Join")))):r.a.createElement(ee,null))}}]),a}(r.a.Component));a(202);var we=function(e){var t=Object(pe.f)(),a=Object(n.useState)({name:"",email:"",password:"",reEnterPassword:""}),o=Object(c.a)(a,2),s=o[0],i=o[1],l=function(e){var t=e.target,a=t.name,n=t.value;i(Object(O.a)(Object(O.a)({},s),{},Object(ge.a)({},a,n)))};return r.a.createElement("div",{className:"register"},r.a.createElement(ce,{user:e.user,setLoginUser:e.setLoginUser}),r.a.createElement("div",{className:"register-main-container"},r.a.createElement("div",{className:"register-main"},r.a.createElement("div",{className:"register-heading"},"Register"),r.a.createElement("div",{className:"register-text-fields"},r.a.createElement("input",{className:"register-entry",name:"name",value:s.name,type:"text",placeholder:"Enter Name",onChange:l}),r.a.createElement("input",{className:"register-entry",name:"email",value:s.email,type:"text",placeholder:"Enter Email",onChange:l}),r.a.createElement("input",{className:"register-entry",name:"password",value:s.password,type:"password",placeholder:"Enter Password",onChange:l}),r.a.createElement("input",{className:"register-entry",name:"reEnterPassword",value:s.reEnterPassword,type:"password",placeholder:"Confirm Password",onChange:l})),r.a.createElement("div",{className:"register-button",onClick:function(){var e=s.name,a=s.email,n=s.password,r=s.reEnterPassword;e&&a&&n&&n===r?w.a.post("http://localhost:8800/register",s).then((function(e){t("/log-in")})):alert("invalid ")}},"Submit"),r.a.createElement(Z.b,{className:"register-already-user",to:"/log-in"},"Already have an Account? Login"))))};a(203);var Ne=function(){var e=Object(n.useState)({}),t=Object(c.a)(e,2),a=t[0],o=t[1],s=Object(n.useState)({}),i=Object(c.a)(s,2),l=i[0],m=i[1],u=Object(n.useState)({}),d=Object(c.a)(u,2),v=d[0],g=d[1];return Object(n.useEffect)((function(){var e=localStorage.getItem("User"),t=localStorage.getItem("Event"),a=localStorage.getItem("Code");o(JSON.parse(e)),m(JSON.parse(t)),g(JSON.parse(a))}),[]),Object(n.useEffect)((function(){localStorage.setItem("User",JSON.stringify(a)),localStorage.setItem("Event",JSON.stringify(l)),localStorage.setItem("Code",JSON.stringify(v))})),r.a.createElement(Z.a,null,r.a.createElement("div",null,r.a.createElement(pe.c,null,r.a.createElement(pe.a,{exact:!0,path:"/",element:r.a.createElement(ue,{user:a,setLoginUser:o})}),r.a.createElement(pe.a,{path:"/features",element:r.a.createElement(le,{user:a,setLoginUser:o})}),r.a.createElement(pe.a,{path:"/messenger",element:r.a.createElement(C,null)}),r.a.createElement(pe.a,{path:"/create-event",element:r.a.createElement(Ee,{user:a,setLoginUser:o,event:l,setEventInfo:m,setLink:g})}),r.a.createElement(pe.a,{path:"/premium",element:r.a.createElement(fe,{user:a,setLoginUser:o})}),r.a.createElement(pe.a,{path:"/event/:url",element:r.a.createElement(se,{user:a,event:l,setEventInfo:m,Link:v,setLink:g})}),r.a.createElement(pe.a,{path:"/log-in",element:r.a.createElement(he,{user:a,setLoginUser:o})}),r.a.createElement(pe.a,{path:"/join-event",element:r.a.createElement(be,{user:a,setLoginUser:o,Link:v,setLink:g,event:l,setEventInfo:m})}),r.a.createElement(pe.a,{path:"/register",element:r.a.createElement(we,{user:a,setLoginUser:o})}),r.a.createElement(pe.a,{path:"/return-home",element:r.a.createElement(ve,{user:a,event:l,setEventInfo:m})}),r.a.createElement(pe.a,{path:"/page-not-found",element:r.a.createElement(de,null)}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(Ne,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[126,1,2]]]);
//# sourceMappingURL=main.92c8989f.chunk.js.map