{"version":3,"sources":["Components/Pages/Conversation/Conversation.js","Components/Pages/Message/Message.js","Components/Pages/Context/AuthContext.js","Components/Pages/Messenger/Messenger.js","Components/Pages/ErrorPages/UserNotFound.js","Video.js","Components/NavBar/NavMenu.js","Components/Footer/FooterBar.js","Components/Pages/Features.js","EventHome.js","Components/Pages/Home.js","Components/Pages/ErrorPages/Error404.js","Components/Pages/Thank/Thank.js","Components/Pages/Login.js","Components/Pages/Premium.js","Components/Pages/CreateEvent/CreateEvent.js","Components/Pages/JoinEvent/JoinEvent.js","Components/Pages/Register/Register.js","App.js","serviceWorker.js","index.js"],"names":["Conversation","conversation","currentUser","useState","user","setUser","useEffect","friendId","members","find","m","_id","console","log","a","axios","res","data","getUser","className","name","Message","message","own","text","format","createdAt","INITIAL_STATE","JSON","parse","localStorage","getItem","isFetching","error","AuthContext","createContext","Messenger","visible","setVisible","conversations","setConversations","currentChat","setCurrentChat","messages","setMessages","newMessage","setNewMessage","arrivalMessage","setArrivalMessage","setOnlineUsers","socket","useRef","useContext","scrollRef","current","io","on","sender","senderId","Date","now","includes","prev","emit","users","followings","filter","f","some","u","userId","get","getConversations","getMessages","handleSubmit","e","preventDefault","conversationId","receiverId","member","post","id","onClick","map","ref","placeholder","onChange","target","value","c","style","UserNotFound","to","src","alt","connections","peerConnectionConfig","iceServers","urls","socketId","elms","Video","localVideoref","React","createRef","videoAvailable","audioAvailable","state","video","audio","screen","showModal","showPanel","showEnd","screenAvailable","newmessages","askForUsername","username","props","eventId","participants","getPermissions","navigator","mediaDevices","getUserMedia","then","catch","getDisplayMedia","setState","stream","window","localStream","srcObject","getMedia","connectToSocketServer","getUserMediaSuccess","getTracks","forEach","track","stop","addStream","createOffer","description","setLocalDescription","stringify","sdp","localDescription","onended","MediaStream","black","silence","blackSilence","getDislayMedia","getDislayMediaSuccess","gotMessageFromServer","fromId","signal","setRemoteDescription","RTCSessionDescription","type","createAnswer","ice","addIceCandidate","RTCIceCandidate","changeCssVideos","main","minWidth","offsetWidth","height","String","width","videos","querySelectorAll","length","minHeight","setProperty","connect","secure","location","href","addMessage","document","querySelector","parentNode","removeChild","getElementById","clients","socketListId","RTCPeerConnection","onicecandidate","event","candidate","onaddstream","searchVidep","cssMesure","createElement","css","maxHeight","margin","border","objectFit","i","setAttribute","autoplay","playsinline","appendChild","undefined","id2","ctx","AudioContext","oscillator","createOscillator","dst","createMediaStreamDestination","start","resume","Object","assign","getAudioTracks","enabled","canvas","getContext","fillRect","captureStream","getVideoTracks","handleVideo","handleAudio","handleScreen","handleEndCall","setLink","handleChat","Link","openChat","closeChat","handleMessage","socketIdSender","prevState","handleUsername","sendMessage","alert","copyUrl","clipboard","writeText","success","textArea","body","focus","select","execCommand","err","panelist","isChrome","userAgent","toLowerCase","vendor","test","match","toggleChatBox","x","display","togglePanelChat","fetch","response","json","result","panelists","par","host","joinCode","split","hostCode","push","curr","j","currFriend","endEvent","api","delete","this","background","eventName","orgBy","desc","backgroundColor","email","createdBy","variant","color","Row","autoPlay","muted","Badge","badgeContent","max","item","index","key","textAlign","fontSize","Component","NavMenuBar","changeColor","logout","setLoginUser","colorHandler","scrollY","addEventListener","FooterBar","Features","useLayoutEffect","scrollTo","EventHome","Home","Error404","Thank","setEventInfo","require","hashCode","Login","navigate","useNavigate","password","handleChange","found","ev","localeCompare","Premium","CreateEvent","array","setEvent","cols","rows","url","Math","random","toString","substring","code","Obj","open","JoinEvent","activeEvents","join","currentEvent","Register","reEnterPassword","App","data2","data3","setItem","exact","path","element","Boolean","hostname","ReactDOM","render","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.92c8989f.chunk.js","sourcesContent":["import axios from \"axios\";\nimport React from 'react'\nimport { useEffect, useState } from \"react\";\nimport \"./Conversation.css\";\n\nexport default function Conversation({ conversation, currentUser }) {\n  const [user, setUser] = useState(null);\n\n  useEffect(() => {\n    const friendId = conversation.members.find((m) => m !== currentUser._id);\n    console.log(friendId)\n    const getUser = async () => {\n      try {\n        const res = await axios(\"http://localhost:8800/users/\" + friendId);\n        console.log(res)\n        setUser(res.data);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    getUser();\n  }, [currentUser, conversation]);\n\n  return (\n    <div className=\"conversation\">\n      <span className=\"conversationName\">{user?.name}</span>\n    </div>\n  );\n}\n","import \"./Message.css\";\nimport React from 'react'\nimport { format } from \"timeago.js\";\n\nexport default function Message({ message, own }) {\n  return (\n    <div className={own ? \"message-panel own\" : \"message-panel\"}>\n      <div className=\"messageTop\">\n        <p className=\"messageText\">{message.text}</p>\n      </div>\n      <div className=\"messageBottom\">{format(message.createdAt)}</div>\n    </div>\n  );\n}\n","import { createContext, useEffect, useReducer } from \"react\";\nimport AuthReducer from \"./AuthReducer\";\nimport React from 'react'\n\nconst INITIAL_STATE = {\n  user:JSON.parse(localStorage.getItem(\"User\")) || {},\n  isFetching: false,\n  error: false,\n};\n \n\nexport const AuthContext = createContext(INITIAL_STATE);\n\nexport const AuthContextProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(AuthReducer, INITIAL_STATE);\n  \n  return (\n    <AuthContext.Provider\n      value={{\n        user: state.user,\n        isFetching: state.isFetching,\n        error: state.error,\n        dispatch,\n      }}\n    >\n      {children}\n    </AuthContext.Provider>\n  );\n};\n","import \"./Messenger.css\";\nimport React from 'react'\nimport Conversation from \"../Conversation/Conversation\"\nimport Message from \"../Message/Message\";\nimport { useContext, useEffect, useRef, useState } from \"react\";\nimport { AuthContext } from \"../Context/AuthContext\";\nimport axios from \"axios\";\nimport io from \"socket.io-client\";\n\nexport default function Messenger() {\n  const [visible, setVisible] = useState(false);\n  const [conversations, setConversations] = useState([]);\n  const [currentChat, setCurrentChat] = useState(null);\n  const [messages, setMessages] = useState([]);\n  const [newMessage, setNewMessage] = useState(\"\");\n  const [arrivalMessage, setArrivalMessage] = useState(null);\n  const [onlineUsers, setOnlineUsers] = useState([]);\n  const socket = useRef();\n  const { user } = useContext(AuthContext);\n  const scrollRef = useRef();\n\n  useEffect(() => {\n    socket.current = io(\"ws://localhost:8900\");\n    socket.current.on(\"getMessage\", (data) => {\n      setArrivalMessage({\n        sender: data.senderId,\n        text: data.text,\n        createdAt: Date.now(),\n      });\n    });\n  }, []);\n\n  useEffect(() => {\n    arrivalMessage &&\n      currentChat?.members.includes(arrivalMessage.sender) &&\n      setMessages((prev) => [...prev, arrivalMessage]);\n  }, [arrivalMessage, currentChat]);\n\n  useEffect(() => {\n    socket.current.emit(\"addUser\", user._id);\n    socket.current.on(\"getUsers\", (users) => {\n      setOnlineUsers(\n        user.followings.filter((f) => users.some((u) => u.userId === f))\n      );\n    });\n  }, [user]);\n\n  useEffect(() => {\n    const getConversations = async () => {\n      try {\n        console.log(user);\n        const res = await axios.get(\"http://localhost:8800/api/conversations/\" + user._id);\n        console.log(res);\n        setConversations(res.data);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    getConversations();\n  }, [user._id]);\n\n  useEffect(() => {\n    const getMessages = async () => {\n      try {\n        const res = await axios.get(\"http://localhost:8800/api/messages/\" + currentChat?._id);\n        console.log(res);\n        setMessages(res.data);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    getMessages();\n  }, [currentChat]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const message = {\n      sender: user._id,\n      text: newMessage,\n      conversationId: currentChat._id,\n    };\n\n    const receiverId = currentChat.members.find(\n      (member) => member !== user._id\n    );\n\n    socket.current.emit(\"sendMessage\", {\n      senderId: user._id,\n      receiverId,\n      text: newMessage,\n    });\n\n    try {\n      const res = await axios.post(\"http://localhost:8800/api/messages\", message);\n      setMessages([...messages, res.data]);\n      setNewMessage(\"\");\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n//   useEffect(() => {\n//     scrollRef.current?.scrollIntoView({ behavior: \"smooth\" });\n//   }, [messages]);\n\n  return (\n    <div className=\"messenger\">\n      <p id=\"panel-chat-title\">Panel Chat</p>\n      {!visible ? (\n        <div className=\"chatMenu\">\n          <div className=\"chatMenuWrapper\">\n            {conversations.map((c) => (\n              <div\n                onClick={() => {\n                  setCurrentChat(c);\n                  setVisible(true);\n                }}\n              style={{\"backgroundColor\":\"rgb(49, 48, 48)\"}}>\n                <Conversation conversation={c} currentUser={user} />\n              </div>\n            ))}\n          </div>\n        </div>\n      ) : (\n        <div className=\"chatBox\">\n          \n          <div id=\"chat-back-button\">\n            <button id=\"back-menu-button\" onClick={() => setVisible(false)}>Back To Menu</button>\n          </div>\n          \n          <div className=\"chatBoxWrapper\">\n            {currentChat ? (\n              <>\n                <div className=\"chatBoxTop\">\n                  {messages.map((m) => (\n                    <div ref={scrollRef}>\n                      <Message message={m} own={m.sender === user._id} />\n                    </div>\n                  ))}\n                </div>\n              </>\n            ) : (\n              <span className=\"noConversationText\">\n                Open a conversation to start a chat.\n              </span>\n            )}\n          </div>\n          <div className=\"chatBoxBottom\">\n            <input\n              className=\"chatMessageInput\"\n              placeholder=\"write something...\"\n              onChange={(e) => setNewMessage(e.target.value)}\n              value={newMessage}\n            ></input>\n\n            <button className=\"chatSubmitButton\" onClick={handleSubmit}>\n              Send\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n","import React from 'react'\nimport \"./UserNotFound.css\"\nimport { Link } from \"react-router-dom\";\n\nfunction UserNotFound() {\n  return (\n    <div className='user_not_found'>\n        \n        <div className=\"user_not_found_text_container\">\n            <p id='user_not_found_text'>You Need To Login First</p>\n            <Link id='user_not_found_button' to=\"/log-in\">\n              Return to Login Page\n            </Link>\n        </div>\n        <div className=\"user_found_img_container\">\n            <img id=\"user_not_found_img\" src=\"/NeedUser/NeedUser.gif\" alt=\"\" />\n            \n        </div>\n    </div>\n  )\n}\n\nexport default UserNotFound","import React, { Component } from \"react\";\nimport io from \"socket.io-client\";\nimport { Badge } from \"@material-ui/core\";\nimport Messenger from \"./Components/Pages/Messenger/Messenger\";\nimport VideocamIcon from \"@material-ui/icons/Videocam\";\nimport ContentCopyIcon from \"@mui/icons-material/ContentCopy\";\nimport SendIcon from \"@material-ui/icons/Send\";\nimport VideocamOffIcon from \"@material-ui/icons/VideocamOff\";\nimport MicIcon from \"@material-ui/icons/Mic\";\nimport MicOffIcon from \"@material-ui/icons/MicOff\";\nimport ChatBubbleOutlineIcon from \"@mui/icons-material/ChatBubbleOutline\";\nimport ScreenShareIcon from \"@material-ui/icons/ScreenShare\";\nimport StopScreenShareIcon from \"@material-ui/icons/StopScreenShare\";\nimport CallEndIcon from \"@material-ui/icons/CallEnd\";\nimport ChatIcon from \"@material-ui/icons/Chat\";\nimport { message } from \"antd\";\nimport \"antd/dist/antd.css\";\nimport { Row } from \"reactstrap\";\nimport \"./Video.css\";\nimport axios from \"axios\";\nimport ReactScrollableFeed from \"react-scrollable-feed\";\nimport UserNotFound from \"./Components/Pages/ErrorPages/UserNotFound\";\n\nconst server_url = \"http://localhost:4001\";\n\nvar connections = {};\nconst peerConnectionConfig = {\n  iceServers: [\n    // { 'urls': 'stun:stun.services.mozilla.com' },\n    { urls: \"stun:stun.l.google.com:19302\" },\n  ],\n};\nvar socket = null;\nvar socketId = null;\nvar elms = 0;\n\nclass Video extends Component {\n  localVideoref = React.createRef();\n  videoAvailable = false;\n  audioAvailable = false;\n\n  state = {\n    video: true,\n    audio: true,\n    screen: false,\n    showModal: false,\n    showPanel: false,\n    showEnd:true,\n    screenAvailable: false,\n    messages: [],\n    message: \"\",\n    newmessages: 0,\n    askForUsername: true,\n    username: this.props.user.name,\n    eventId: [],\n    participants:[]\n  };\n  connections = {};\n\n  componentDidMount() {\n    this.getPermissions();\n    \n    \n  }\n\n  \n  getPermissions = async () => {\n    try {\n      await navigator.mediaDevices\n        .getUserMedia({ video: true })\n        .then(() => (this.videoAvailable = true))\n        .catch(() => (this.videoAvailable = false));\n\n      await navigator.mediaDevices\n        .getUserMedia({ audio: true })\n        .then(() => (this.audioAvailable = true))\n        .catch(() => (this.audioAvailable = false));\n\n      if (navigator.mediaDevices.getDisplayMedia) {\n        this.setState({ screenAvailable: true });\n      } else {\n        this.setState({ screenAvailable: false });\n      }\n\n      if (this.videoAvailable || this.audioAvailable) {\n        navigator.mediaDevices\n          .getUserMedia({\n            video: this.videoAvailable,\n            audio: this.audioAvailable,\n          })\n          .then((stream) => {\n            window.localStream = stream;\n            this.localVideoref.current.srcObject = stream;\n          })\n          .then((stream) => {})\n          .catch((e) => console.log(e));\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  getMedia = () => {\n    this.setState(\n      {\n        video: this.videoAvailable,\n        audio: this.audioAvailable,\n      },\n      () => {\n        this.getUserMedia();\n        this.connectToSocketServer();\n      }\n    );\n  };\n\n  getUserMedia = () => {\n    if (\n      (this.state.video && this.videoAvailable) ||\n      (this.state.audio && this.audioAvailable)\n    ) {\n      navigator.mediaDevices\n        .getUserMedia({ video: this.state.video, audio: this.state.audio })\n        .then(this.getUserMediaSuccess)\n        .then((stream) => {})\n        .catch((e) => console.log(e));\n    } else {\n      try {\n        let tracks = this.localVideoref.current.srcObject.getTracks();\n        tracks.forEach((track) => track.stop());\n      } catch (e) {}\n    }\n  };\n\n  getUserMediaSuccess = (stream) => {\n    try {\n      window.localStream.getTracks().forEach((track) => track.stop());\n    } catch (e) {\n      console.log(e);\n    }\n\n    window.localStream = stream;\n    this.localVideoref.current.srcObject = stream;\n\n    for (let id in connections) {\n      if (id === socketId) continue;\n\n      connections[id].addStream(window.localStream);\n\n      connections[id].createOffer().then((description) => {\n        connections[id]\n          .setLocalDescription(description)\n          .then(() => {\n            socket.emit(\n              \"signal\",\n              id,\n              JSON.stringify({ sdp: connections[id].localDescription })\n            );\n          })\n          .catch((e) => console.log(e));\n      });\n    }\n\n    stream.getTracks().forEach(\n      (track) =>\n        (track.onended = () => {\n          this.setState(\n            {\n              video: false,\n              audio: false,\n            },\n            () => {\n              try {\n                let tracks = this.localVideoref.current.srcObject.getTracks();\n                tracks.forEach((track) => track.stop());\n              } catch (e) {\n                console.log(e);\n              }\n\n              let blackSilence = (...args) =>\n                new MediaStream([this.black(...args), this.silence()]);\n              window.localStream = blackSilence();\n              this.localVideoref.current.srcObject = window.localStream;\n\n              for (let id in connections) {\n                connections[id].addStream(window.localStream);\n\n                connections[id].createOffer().then((description) => {\n                  connections[id]\n                    .setLocalDescription(description)\n                    .then(() => {\n                      socket.emit(\n                        \"signal\",\n                        id,\n                        JSON.stringify({\n                          sdp: connections[id].localDescription,\n                        })\n                      );\n                    })\n                    .catch((e) => console.log(e));\n                });\n              }\n            }\n          );\n        })\n    );\n  };\n\n  getDislayMedia = () => {\n    if (this.state.screen) {\n      if (navigator.mediaDevices.getDisplayMedia) {\n        navigator.mediaDevices\n          .getDisplayMedia({ video: true, audio: true })\n          .then(this.getDislayMediaSuccess)\n          .then((stream) => {})\n          .catch((e) => console.log(e));\n      }\n    }\n  };\n\n  getDislayMediaSuccess = (stream) => {\n    try {\n      window.localStream.getTracks().forEach((track) => track.stop());\n    } catch (e) {\n      console.log(e);\n    }\n\n    window.localStream = stream;\n    this.localVideoref.current.srcObject = stream;\n\n    for (let id in connections) {\n      if (id === socketId) continue;\n\n      connections[id].addStream(window.localStream);\n\n      connections[id].createOffer().then((description) => {\n        connections[id]\n          .setLocalDescription(description)\n          .then(() => {\n            socket.emit(\n              \"signal\",\n              id,\n              JSON.stringify({ sdp: connections[id].localDescription })\n            );\n          })\n          .catch((e) => console.log(e));\n      });\n    }\n\n    stream.getTracks().forEach(\n      (track) =>\n        (track.onended = () => {\n          this.setState(\n            {\n              screen: false,\n            },\n            () => {\n              try {\n                let tracks = this.localVideoref.current.srcObject.getTracks();\n                tracks.forEach((track) => track.stop());\n              } catch (e) {\n                console.log(e);\n              }\n\n              let blackSilence = (...args) =>\n                new MediaStream([this.black(...args), this.silence()]);\n              window.localStream = blackSilence();\n              this.localVideoref.current.srcObject = window.localStream;\n\n              this.getUserMedia();\n            }\n          );\n        })\n    );\n  };\n\n  gotMessageFromServer = (fromId, message) => {\n    var signal = JSON.parse(message);\n\n    if (fromId !== socketId) {\n      if (signal.sdp) {\n        connections[fromId]\n          .setRemoteDescription(new RTCSessionDescription(signal.sdp))\n          .then(() => {\n            if (signal.sdp.type === \"offer\") {\n              connections[fromId]\n                .createAnswer()\n                .then((description) => {\n                  connections[fromId]\n                    .setLocalDescription(description)\n                    .then(() => {\n                      socket.emit(\n                        \"signal\",\n                        fromId,\n                        JSON.stringify({\n                          sdp: connections[fromId].localDescription,\n                        })\n                      );\n                    })\n                    .catch((e) => console.log(e));\n                })\n                .catch((e) => console.log(e));\n            }\n          })\n          .catch((e) => console.log(e));\n      }\n\n      if (signal.ice) {\n        connections[fromId]\n          .addIceCandidate(new RTCIceCandidate(signal.ice))\n          .catch((e) => console.log(e));\n      }\n    }\n  };\n\n  changeCssVideos = (main) => {\n    let widthMain = main.offsetWidth;\n    let minWidth = \"30%\";\n    if ((widthMain * 30) / 100 < 300) {\n      minWidth = \"250px\";\n    }\n    let minHeight = \"200px\";\n\n    let height = String(100 / elms) + \"%\";\n    let width = \"\";\n    if (elms === 0 || elms === 1) {\n      width = \"100%\";\n      height = \"100%\";\n    } else if (elms === 2) {\n      width = \"48%\";\n      height = \"95%\";\n    } else if (elms === 3 || elms === 4) {\n      width = \"32.5%\";\n      height = \"48%\";\n    } else {\n      width = \"32.5%\";\n      height = \"48%\";\n    }\n\n    let videos = main.querySelectorAll(\"video\");\n    for (let a = 0; a < videos.length; ++a) {\n      videos[a].style.minWidth = minWidth;\n      videos[a].style.minHeight = minHeight;\n      videos[a].style.setProperty(\"width\", width);\n      videos[a].style.setProperty(\"height\", height);\n    }\n\n    return { minWidth, minHeight, width, height };\n  };\n\n  connectToSocketServer = () => {\n    socket = io.connect(server_url, { secure: true });\n\n    socket.on(\"signal\", this.gotMessageFromServer);\n\n    socket.on(\"connect\", () => {\n      socket.emit(\"join-call\", window.location.href);\n      socketId = socket.id;\n\n      socket.on(\"chat-message\", this.addMessage);\n\n      socket.on(\"user-left\", (id) => {\n        let video = document.querySelector(`[data-socket=\"${id}\"]`);\n        if (video !== null) {\n          elms--;\n          video.parentNode.removeChild(video);\n\n          let main = document.getElementById(\"stream-main\");\n          this.changeCssVideos(main);\n        }\n      });\n\n      socket.on(\"user-joined\", (id, clients) => {\n        clients.forEach((socketListId) => {\n          connections[socketListId] = new RTCPeerConnection(\n            peerConnectionConfig\n          );\n          // Wait for their ice candidate\n          connections[socketListId].onicecandidate = function (event) {\n            if (event.candidate != null) {\n              socket.emit(\n                \"signal\",\n                socketListId,\n                JSON.stringify({ ice: event.candidate })\n              );\n            }\n          };\n\n          // Wait for their video stream\n          connections[socketListId].onaddstream = (event) => {\n            // TODO mute button, full screen button\n            var searchVidep = document.querySelector(\n              `[data-socket=\"${socketListId}\"]`\n            );\n            if (searchVidep !== null) {\n              // if i don't do this check it make an empyt square\n              searchVidep.srcObject = event.stream;\n            } else {\n              elms = clients.length;\n              let main = document.getElementById(\"stream-main\");\n              let cssMesure = this.changeCssVideos(main);\n\n              let video = document.createElement(\"video\");\n\n              let css = {\n                minWidth: cssMesure.minWidth,\n                minHeight: cssMesure.minHeight,\n                maxHeight: \"95%\",\n                margin: \"0.25vw\",\n                border: \"2px solid rgb(45, 45, 45)\",\n                objectFit: \"fill\",\n              };\n              for (let i in css) video.style[i] = css[i];\n\n              video.style.setProperty(\"width\", cssMesure.width);\n              video.style.setProperty(\"height\", cssMesure.height);\n              video.setAttribute(\"data-socket\", socketListId);\n              video.srcObject = event.stream;\n              video.autoplay = true;\n              video.playsinline = true;\n\n              main.appendChild(video);\n            }\n          };\n\n          // Add the local video stream\n          if (window.localStream !== undefined && window.localStream !== null) {\n            connections[socketListId].addStream(window.localStream);\n          } else {\n            let blackSilence = (...args) =>\n              new MediaStream([this.black(...args), this.silence()]);\n            window.localStream = blackSilence();\n            connections[socketListId].addStream(window.localStream);\n          }\n        });\n\n        if (id === socketId) {\n          for (let id2 in connections) {\n            if (id2 === socketId) continue;\n\n            try {\n              connections[id2].addStream(window.localStream);\n            } catch (e) {}\n\n            connections[id2].createOffer().then((description) => {\n              connections[id2]\n                .setLocalDescription(description)\n                .then(() => {\n                  socket.emit(\n                    \"signal\",\n                    id2,\n                    JSON.stringify({ sdp: connections[id2].localDescription })\n                  );\n                })\n                .catch((e) => console.log(e));\n            });\n          }\n        }\n      });\n    });\n  };\n\n  silence = () => {\n    let ctx = new AudioContext();\n    let oscillator = ctx.createOscillator();\n    let dst = oscillator.connect(ctx.createMediaStreamDestination());\n    oscillator.start();\n    ctx.resume();\n    return Object.assign(dst.stream.getAudioTracks()[0], { enabled: false });\n  };\n  black = ({ width = 640, height = 480 } = {}) => {\n    let canvas = Object.assign(document.createElement(\"canvas\"), {\n      width,\n      height,\n    });\n    canvas.getContext(\"2d\").fillRect(0, 0, width, height);\n    let stream = canvas.captureStream();\n    return Object.assign(stream.getVideoTracks()[0], { enabled: false });\n  };\n\n  handleVideo = () =>\n    this.setState({ video: !this.state.video }, () => this.getUserMedia());\n  handleAudio = () =>\n    this.setState({ audio: !this.state.audio }, () => this.getUserMedia());\n  handleScreen = () =>\n    this.setState({ screen: !this.state.screen }, () => this.getDislayMedia());\n\n  handleEndCall = () => {\n    try {\n      let tracks = this.localVideoref.current.srcObject.getTracks();\n      tracks.forEach((track) => track.stop());\n    } catch (e) {}\n    this.props.setLink({});\n    // this.props.setEventInfo({});\n    \n    window.location.href = \"/return-home\";\n  };\n\n  handleChat = () => {\n    if (!this.state.showModal) {\n      this.setState({ showModal: true });\n      if (this.state.newmessages !== 0) {\n        this.setState({ newmessages: 0 });\n      }\n    } else {\n      this.setState({ showModal: false, newmessages: 0 });\n    }\n    console.log(this.state.participants)\n    console.log(this.props.Link);\n  };\n  openChat = () => this.setState({ showModal: true, newmessages: 0 });\n  closeChat = () => this.setState({ showModal: false });\n  handleMessage = (e) => this.setState({ message: e.target.value });\n\n  addMessage = (data, sender, socketIdSender) => {\n    this.setState((prevState) => ({\n      messages: [...prevState.messages, { sender: sender, data: data }],\n    }));\n    if (socketIdSender !== socketId) {\n      this.setState({ newmessages: this.state.newmessages + 1 });\n    }\n  };\n\n  handleUsername = (e) => this.setState({ username: e.target.value });\n\n  sendMessage = () => {\n    if (this.state.message === \"\") {\n      alert(\"Please Enter Message\");\n    } else {\n      socket.emit(\"chat-message\", this.state.message, this.props.user.name);\n      this.setState({ message: \"\", sender: this.props.user.name });\n    }\n  };\n\n  copyUrl = () => {\n    let text = window.location.href;\n    if (!navigator.clipboard) {\n      let textArea = document.createElement(\"textarea\");\n      textArea.value = text;\n      document.body.appendChild(textArea);\n      textArea.focus();\n      textArea.select();\n      try {\n        document.execCommand(\"copy\");\n\n        message.success(\"Link copied to clipboard!\");\n      } catch (err) {\n        message.error(\"Failed to copy\");\n      }\n      document.body.removeChild(textArea);\n      return;\n    }\n    navigator.clipboard.writeText(text).then(\n      function () {\n        message.success(\"Link copied to clipboard!\");\n      },\n      () => {\n        message.error(\"Failed to copy\");\n      }\n    );\n  };\n\n  connect = () => {\n    this.setState(\n      { askForUsername: false, panelist: this.props.Link.data },\n      () => this.getMedia()\n    );\n  };\n\n  isChrome = function () {\n    let userAgent = (navigator && (navigator.userAgent || \"\")).toLowerCase();\n    let vendor = (navigator && (navigator.vendor || \"\")).toLowerCase();\n    let matchChrome = /google inc/.test(vendor)\n      ? userAgent.match(/(?:chrome|crios)\\/(\\d+)/)\n      : null;\n    // let matchFirefox = userAgent.match(/(?:firefox|fxios)\\/(\\d+)/)\n    // return matchChrome !== null || matchFirefox !== null\n    return matchChrome !== null;\n  };\n\n  toggleChatBox = () => {\n    var x = document.getElementById(\"connected-chat\");\n    if (x.style.display === \"none\") {\n      x.style.display = \"block\";\n    } else {\n      x.style.display = \"none\";\n    }\n  };\n\n  togglePanelChat = () =>{\n    this.setState({ showPanel: !this.state.showPanel })\n    fetch(\"http://localhost:8800/getParticipants\").then(response=> response.json()).then(result=>{\n        this.setState({\n          participants:result\n        })\n      })\n      const eventId = this.props.event.eventId;\n      var panelists= [];\n      this.state.participants.forEach((par) => {\n        const host = par.joinCode.split(\"-\")\n        if(par.eventId===eventId && par.hostCode===host[1]){\n          panelists.push(par)\n        }\n      })\n      console.log(panelists)\n      const length = panelists.length\n      for(var i=0;i<length;i++){\n        const curr = panelists[i];\n        for(var j=i+1;j<length;j++){\n          const currFriend = panelists[j];\n          axios.post(\"http://localhost:8800/api/conversations\",{\n            senderId:curr.userId,\n            receiverId:currFriend.userId\n          }).then((res) => {\n            console.log(\"Conversation Added Successfully!\");\n          });\n        }\n      }\n  }\n\n  endEvent = () => {\n    const ID = this.props.event._id;\n    var api = \"http://localhost:8800/deleteEvent/\" + ID;\n    console.log(api);\n    console.log(this.props.event);\n    axios.delete(api);\n    this.setState({showEnd:false})\n  };\n \n  // endEvent = (e) => {\n  //   axios.get(\"http://localhost:9002/onGoingEvent\").then(result=>{\n  //     this.setState({eventId:result})\n  //   })\n  //   console.log(this.state.eventId.data)\n  //   this.state.eventId.data.forEach(val => {\n  //     console.log(val.eventId)\n  //     if(val.eventId===\"73b2h2v6qbh\"){\n  //       var id = val._id;\n  //       console.log(id);\n  //       axios.delete(`http://localhost:9002/delete/${id}`);\n  //     }\n  //   })\n\n  // }\n\n  render() {\n    if (this.isChrome() === false) {\n      return (\n        <div>\n          <h1>Sorry, this works only with Google Chrome</h1>\n        </div>\n      );\n    }\n    return (\n      <div className=\"Video-temp\">\n        {this.props.user &&\n        this.props.user._id &&\n        this.props.event ? (\n          <div className=\"Video\">\n            {this.state.askForUsername === true ? (\n              <div className=\"connect-stream-main\">\n                <div style={{ background: \"#FDFDFC\" }}>\n                  <p id=\"event-heading\">{this.props.event.eventName}</p>\n                  <p id=\"event-orgBy\">\n                    Organized By : {this.props.event.orgBy}\n                  </p>\n                  <p id=\"event-desc\">{this.props.event.desc}</p>\n                </div>\n                <div className=\"event-container-2\">\n                  {console.log(this.props.user.name)}\n\n                  <div style={{ backgroundColor: \"transparent\" }}>\n                    <img\n                      id=\"connect-stream-img\"\n                      src=\"/JoinEventImages/JoinEvent.gif\"\n                      alt=\"\"\n                    />\n                  </div>\n                  <p id=\"event-user\">Joining as {this.props.user.name}</p>\n                  {this.props.user.email===this.props.event.createdBy?(\n                    <p id=\"event-user\">Host Code : {this.props.event.hostCode}</p>\n                  ):(null)}\n                  \n                  <div className=\"connect-btn-down\">\n                    <button\n                      id=\"connect-button\"\n                      variant=\"contained\"\n                      color=\"primary\"\n                      onClick={this.connect}\n                    >\n                      Join Event\n                    </button>\n                  </div>\n                </div>\n              </div>\n            ) : (\n              <div className=\"connected-main\">\n                <div className=\"connected\">\n                  <div className=\"video-container\">\n                    <div className=\"link-copy-container\">\n                      <div\n                        style={{\n                          height: \"10vh\",\n                          backgroundColor: \"rgb(66, 65, 65)\",\n                        }}\n                      >\n                        <p id=\"Event-heading\">{this.props.event.eventName}</p>\n                        <p id=\"Event-orgBy\">\n                          Organized By: {this.props.event.orgBy}\n                        </p>\n                      </div>\n                    </div>\n                    <div className=\"stream-container\">\n                      <Row id=\"stream-main\" className=\"flex-container\">\n                        <video\n                          id=\"my-video\"\n                          ref={this.localVideoref}\n                          autoPlay\n                          muted\n                        ></video>\n                      </Row>\n                      {/* <p>{this.props.user.name}</p> */}\n                    </div>\n                  </div>\n                  <div className=\"btn-down\">\n                    <button\n                      className=\"stream-options\"\n                      style={{ color: \"#424242\", background: \"tranparent\" }}\n                      onClick={this.handleVideo}\n                    >\n                      {this.state.video === true ? (\n                        <VideocamIcon />\n                      ) : (\n                        <VideocamOffIcon />\n                      )}\n                    </button>\n\n                    <button\n                      className=\"stream-options\"\n                      style={{ color: \"#f44336\" }}\n                      onClick={this.handleEndCall}\n                    >\n                      <CallEndIcon />\n                    </button>\n\n                    <button\n                      className=\"stream-options\"\n                      style={{ color: \"#424242\" }}\n                      onClick={this.handleAudio}\n                    >\n                      {this.state.audio === true ? <MicIcon /> : <MicOffIcon />}\n                    </button>\n\n                    {this.props.Link.data &&\n                    this.props.Link.data.length > 1 ? (\n                      <button\n                        className=\"stream-options\"\n                        onClick={this.togglePanelChat}\n                      >\n                        <ChatBubbleOutlineIcon />\n                      </button>\n                    ) : null}\n\n                    {this.props.Link.data &&\n                    this.props.Link.data.length > 1 &&\n                    this.state.screenAvailable === true ? (\n                      <button\n                        className=\"stream-options\"\n                        style={{ color: \"#424242\" }}\n                        onClick={this.handleScreen}\n                      >\n                        {this.state.screen === true ? (\n                          <ScreenShareIcon />\n                        ) : (\n                          <StopScreenShareIcon />\n                        )}\n                      </button>\n                    ) : null}\n\n                    <Badge\n                      badgeContent={this.state.newmessages}\n                      max={999}\n                      id=\"temp\"\n                      color=\"secondary\"\n                      // onClick={this.handleChat}\n                    >\n                      <button\n                        className=\"stream-options\"\n                        style={{ color: \"#424242\" }}\n                        onClick={this.handleChat}\n                      >\n                        <ChatIcon />\n                      </button>\n                    </Badge>\n                    {this.props.Link.data &&\n                    this.props.Link.data.length > 1 &&\n                    this.state.screenAvailable === true ? (\n                      <button id=\"copy-button\" onClick={this.copyUrl}>\n                        <ContentCopyIcon />\n                      </button>\n                    ) : null}\n                    {this.props.Link.data &&\n                    this.props.Link.data.length > 1 &&\n                    this.props.user.email === this.props.event.createdBy && this.state.showEnd? (\n                      <button\n                        className=\"stream-options\"\n                        onClick={this.endEvent}\n                      >\n                        End\n                      </button>\n                    ) : null}\n                  </div>\n                </div>\n                {this.state.showPanel &&\n                this.props.Link.data &&\n                this.props.Link.data.length > 1 ? (\n                  <div style={{ background: \"transparent\", margin: \"auto\" }}>\n                    <Messenger />\n                  </div>\n                ) : null}\n\n                {this.state.showModal ? (\n                  <div className=\"connected-chat\">\n                    <p id=\"chat-title\">Chat</p>\n\n                    <div className=\"chat-message-section\">\n                      <ReactScrollableFeed className=\"scrollable-feed\">\n                        {this.state.messages.length > 0 ? (\n                          this.state.messages.map((item, index) => (\n                            <div className=\"remaining\" key={index}>\n                              <div className=\"messages\" id=\"mess-content\">\n                                <b className=\"chat-user\">{item.sender}</b>\n                                <p className=\"chat-message\">{item.data}</p>\n                              </div>\n                            </div>\n                          ))\n                        ) : (\n                          <p\n                            style={{\n                              textAlign: \"center\",\n                              color: \"white\",\n                              backgroundColor: \"transparent\",\n                              fontSize: \"0.9vw\",\n                            }}\n                          >\n                            No message yet\n                          </p>\n                        )}\n                      </ReactScrollableFeed>\n                    </div>\n\n                    <div className=\"chat-input-container\">\n                      <input\n                        id=\"chat-input\"\n                        placeholder=\"Message\"\n                        value={this.state.message}\n                        onChange={(e) => this.handleMessage(e)}\n                      />\n                      <button\n                        id=\"chat-send-button\"\n                        variant=\"contained\"\n                        color=\"primary\"\n                        onClick={this.sendMessage}\n                      >\n                        <SendIcon />\n                      </button>\n                    </div>\n                  </div>\n                ) : null}\n              </div>\n            )}\n          </div>\n        ) : (\n          <div>\n            <UserNotFound />\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default Video;\n","import React, { Component } from \"react\";\nimport \"./NavMenu.css\";\nimport { Link } from \"react-router-dom\";\n\nclass NavMenuBar extends Component {\n  state = {\n    changeColor: false,\n  };\n\n  logout = (e) => {\n    e.preventDefault();\n    this.props.setLoginUser({});\n  };\n\n  colorHandler = (e) => {\n    e.preventDefault();\n    if (window.scrollY > 100) {\n      this.setState({ changeColor: true });\n    } else {\n      this.setState({ changeColor: false });\n    }\n  };\n  render() {\n    window.addEventListener(\"scroll\", this.colorHandler);\n    return (\n      // <Router>\n      <div\n        className={this.state.changeColor ? \"NavMenu NavMenu-bg\" : \"NavMenu\"}\n      >\n        {window.addEventListener(\"scroll\", this.colorHandler)}\n        <div className=\"logo\">\n          <img\n            id=\"logo-image\"\n            src=\"https://www.pngkey.com/png/full/352-3520852_restaurant-logo-design-png.png\"\n            alt=\"\"\n          />\n        </div>\n        <div className=\"options\">\n          <Link className=\"option\" to=\"/\">\n            Home\n          </Link>\n          <Link className=\"option\" to=\"/features\">\n            Features\n          </Link>\n          {this.props.user && this.props.user._id ? (\n            <div id=\"after-login-options\">\n              <Link className=\"option\" to=\"/create-event\">\n                Host Event\n              </Link>\n              <Link className=\"option\" to=\"/join-event\">\n                Join Event\n              </Link>\n              <div className=\"Navbar-logout\">\n                <p id=\"navbar-username\">{this.props.user.name}</p>\n                <div className=\"logout-button\" onClick={this.logout}>\n                  Logout\n                </div>\n              </div>\n            </div>\n          ) : (\n            <Link className=\"option login-option\" to=\"/log-in\">\n              LogIn/SignUp\n            </Link>\n          )}\n        </div>\n      </div>\n      // </Router>\n    );\n  }\n}\n\nexport default NavMenuBar;\n","import React from \"react\";\nimport \"./FooterBar.css\";\nimport {  Link } from \"react-router-dom\";\n\nfunction FooterBar() {\n  // console.log(this.props.user)\n  return (\n    <div className=\"footerBar\">\n      <div className=\"footer-main\">\n        <div className=\"footer-heading\">\n          <img\n            id=\"footer-logo\"\n            src=\"https://www.pngkey.com/png/full/352-3520852_restaurant-logo-design-png.png\"\n            alt=\"\"\n          />\n          <p className=\"site-name\">UpEvent</p>\n        </div>\n        <div className=\"line\"></div>\n        <div className=\"footer-options\">\n          <div className=\"footer-option1\">\n            <p className=\"footer-option-heading\">Quick Links</p>\n            <Link className=\"footer-option\" to=\"/\">\n              Home\n            </Link>\n            <Link className=\"footer-option\" to=\"/features\">\n              Features\n            </Link>\n            {/* {this.props.name? (\n              <Link className=\"footer-option\" to=\"/log-in\">\n                LogIn/SignUp\n              </Link>\n            ) : (\n              <div>\n\n              </div>\n            )} */}\n          </div>\n          <div className=\"footer-option2\">\n            <p className=\"footer-option-heading\">Virtual Events</p>\n            <Link className=\"footer-option\" to=\"/create-event\">\n              Create Event\n            </Link>\n            <Link className=\"footer-option\" to=\"/join-event\">\n              Join Event\n            </Link>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"footer-img\">\n        <img id=\"footer-image\" src=\"/FooterImages/FooterBar.png\" alt=\"\" />\n      </div>\n    </div>\n  );\n}\n\nexport default FooterBar;\n","import React, { useLayoutEffect } from \"react\";\nimport \"./Features.css\";\nimport NavMenu from \"../NavBar/NavMenu\";\nimport FooterBar from \"../Footer/FooterBar\";\n\nfunction Features(props) {\n  // Making the page to always open at top using useLayoutEffect\n  useLayoutEffect(() => {\n    window.scrollTo(0, 0);\n  });\n  return (\n    <div className=\"features\">\n      <NavMenu user={props.user} setLoginUser={props.setLoginUser} />\n      <div className=\"features-container1\">\n        <div className=\"features-text\">\n          <p className=\"features-title\">\n            Host Stunning Events from your Personalised Virtual Venue\n          </p>\n          <p className=\"features-content\">\n            Virtual Events Hosting offers fully branded and secure alternatives\n            to standard conferencing and live-stream platforms. Provide a highly\n            customisable stage for your live stream. Everything required to run\n            a live stream built-in including HD (up to 4k) video player,\n            production capabilities, live chat, polls and custom widgets for\n            data collection.\n          </p>\n        </div>\n        <div className=\"features-image-container\">\n          <img id=\"features-img\" src=\"/FeaturesImages/Feature1.gif\" alt=\"\" />\n        </div>\n      </div>\n      <div className=\"features-container2\">\n        \n        <div className=\"features-image-container\">\n          <img id=\"features-img\" src=\"/FeaturesImages/Feature4.gif\" alt=\"\" />\n        </div>\n        <div className=\"features-text\">\n          <p className=\"features-title\">\n          Smart, flexible, and powerful event registration system\n          </p>\n          <p className=\"features-content\">\n            <ul>\n              <li>A smarter way to register</li>\n              <li>Registration with the power to flex</li>\n              <li>Powerful enough for your most complex events</li>\n              <li>Increase productivity</li>\n            </ul>\n          </p>\n        </div>\n      </div>\n      <FooterBar/>\n    </div>\n  );\n}\n\nexport default Features;\n","import React from \"react\";\nimport \"./EventHome.css\"\nimport { Link } from \"react-router-dom\";\n\nfunction EventHome() {\n  return (\n    <div className=\"event-home\">\n      <div className=\"ehome-container\">\n        <div className=\"ehome-text-container\">\n          <h1 className=\"ehome-heading\">Host Your Own Event</h1>\n          <p className=\"ehome-content\">\n            We let you stay in touch with all your\n            friends.\n          </p>\n        </div>\n\n        <div className=\"ehome-join-container\">\n          <img id=\"ehome-join-img\" src=\"/EventHomePage/EventHome.gif\" alt=\"\" />          \n          <Link className=\"option\" to=\"/create-event\">\n          <button id=\"ehome-join-button\" >\n            Create an Event\n          </button>\n          </Link>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default EventHome;\n","import React, { useLayoutEffect } from \"react\";\nimport \"./Home.css\";\nimport EventHome from '../../EventHome'\nimport NavMenu from \"../NavBar/NavMenu\";\nimport FooterBar from \"../Footer/FooterBar\";\n\nfunction Home(props) {\n  // Making the page to always open at top using useLayoutEffect\n  useLayoutEffect(() => {\n    window.scrollTo(0, 0);\n  });\n  return (\n    \n    <div className=\"Home\">\n      <NavMenu user={props.user} setLoginUser={props.setLoginUser} />\n      <div className=\"home-container1\">\n        <div className=\"home-text\">\n          <p className=\"home-title\">Virtual Event Hosting</p>\n          <p className=\"home-content\">\n            We help you host a virtual exhibition, tradeshow, or career fair\n            with our powerful webcast solutions and give a unique experience for\n            your audience.\n          </p>\n        </div>\n        <div className=\"home-image-container\">\n          <img id=\"home-img\" src=\"/HomePageImages/Home_2.gif\" alt=\"\" />\n        </div>\n      </div>\n      {props.user && props.user._id ?(\n        <EventHome/>\n        // null\n      ):(\n        <p></p>\n      )}\n      \n      <div className=\"home-container2\">\n        <img id=\"home-img\" src=\"/HomePageImages/Home_1.gif\" alt=\"\" />\n        <div className=\"home-text\">\n          <p className=\"home-title\">Executing the plan</p>\n          <p className=\"home-content\">\n          We make sure that the virtual event is executed as planned and we update you regarding the progress and the outcome that can be expected in every step. Overall we ensure that the event takes place as planned.\n          </p>\n        </div>\n      </div>\n      <div className=\"home-container3\">\n        <div className=\"home-text\">\n          <p className=\"home-title\">Developing a Strategy</p>\n          <p className=\"home-content\">\n            We create a simple draft about what needs to be done so that\n            everyone can follow the plan and set a timeline that is realistic\n            and attainable. To ensure the work is on track we establish\n            baselines or performance measures and the objectives, deliverables,\n            and key milestones are clearly defined.\n          </p>\n        </div>\n\n        <img\n          id=\"home-img\"\n          className=\"image-3\"\n          src=\"/HomePageImages/Home_3.gif\"\n          alt=\"\"\n        />\n      </div>\n      <div>\n        <p className=\"join-panel\"></p>\n      </div>\n      <FooterBar/>\n    </div>\n  );\n}\n\nexport default Home;\n","import React from 'react'\nimport \"./Error404.css\"\n\nfunction Error404() {\n  return (\n    <div className='error-404'>\n        <img id=\"error-404-img\" src=\"/PageNotFound/Error404.gif\" alt=\"\" />\n        <p id=\"error-404-text\">Page Not Found</p>\n    </div>\n  )\n}\n\nexport default Error404","import React from 'react'\nimport \"./Thank.css\"\nimport Error404 from \"../ErrorPages/Error404\"\n\nfunction Thank(props) {\n\nfunction returnHome(){\n  \n  window.location.href = \"/\";\n  props.setEventInfo({})\n}\n\n  return (\n    <div className='thank'>\n        {props.user && props.user._id && props.event?(\n            <div className='thank-main'>\n                <p id=\"thank-text\">Thank's for joining {props.event.eventName}</p>\n                <img id=\"thank-img\" src='/Thanks/ReturHome.gif' alt=\"\"/>\n                <button id=\"return-home-button\" onClick={returnHome}>Return to Home</button>\n            </div>\n        ):(<Error404/>)}\n    </div>\n  )\n}\n \nexport default Thank","import React, { useLayoutEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./Login.css\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport NavMenu from \"../NavBar/NavMenu\";\n// const bcrypt = require(\"bcrypt\");\n// import bcrypt from 'bcrypt'\nvar encode = require(\"hashcode\").hashCode;\n\nfunction Login(props) {\n  const navigate = useNavigate();\n\n  // Making the page to always open at top using useLayoutEffect\n  useLayoutEffect(() => {\n    window.scrollTo(0, 0);\n  });\n\n  const [user, setUser] = useState({\n    email: \"\",\n    password: \"\",\n  });\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setUser({\n      ...user,\n      [name]: value,\n    });\n  };\n\n  async function login(e) {\n    var found = false;\n    // const salt = await bcrypt.genSalt(10);\n\n    fetch(\"http://localhost:8800/allusers\")\n      .then((response) => response.json())\n      .then((result) => {\n        result.forEach(function (ev) {\n          if (ev.email.localeCompare(user.email) === 0) {\n            found = true;\n            if (ev.password.localeCompare(user.password) === 0) {\n              axios.post(\"http://localhost:8800/login\", user).then((res) => {\n                props.setLoginUser(res.data.user);\n \n                navigate(\"/\");\n              });\n            } else {\n              alert(\"Invalid Credentials\");\n            }\n          }\n        });\n        if (found === false) {\n          alert(\"User not found\");\n        }\n      });\n  }\n\n  return (\n    <div className=\"login\">\n      <NavMenu user={props.user} setLoginUser={props.setLoginUser} />\n      <div className=\"login-main-container\">\n        <div className=\"login-img-container\">\n          <img id=\"login-img\" src=\"/LoginPageImages/Login.png\" alt=\"\" />\n        </div>\n        <div className=\"login-main\">\n          <div className=\"login-container\">\n            <p className=\"login-heading\">Login</p>\n            <div className=\"login-text-fields\">\n              <input\n                className=\"login-entry\"\n                type=\"text\"\n                name=\"email\"\n                value={user.email}\n                placeholder=\"Username/Email\"\n                onChange={handleChange}\n              />\n              <input\n                className=\"login-entry\"\n                type=\"password\"\n                name=\"password\"\n                value={user.password}\n                placeholder=\"Password\"\n                onChange={handleChange}\n              />\n            </div>\n            <div className=\"login-button\" onClick={login}>\n              Login\n            </div>\n            <Link className=\"login-new-register\" to=\"/register\">\n              New User? Register\n            </Link>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Login;\n","import React, { useLayoutEffect } from \"react\";\nimport './Premium.css';\nimport NavMenu from \"../NavBar/NavMenu\";\nimport FooterBar from \"../Footer/FooterBar\";\n\nfunction Premium(props) {\n  // Making the page to always open at top using useLayoutEffect\n  useLayoutEffect(() => {\n    window.scrollTo(0, 0);\n  });\n  return (\n    <div className=\"premium\">\n      <NavMenu user={props.user} setLoginUser={props.setLoginUser} />\n      Premium\n        <p>a</p>\n        <p>a</p>\n        \n        <p>a</p>\n        <p>a</p>\n        <p>a</p>\n        <FooterBar/>\n    </div>\n  )\n}\n\nexport default Premium","import React, { useState, useLayoutEffect, useEffect } from \"react\";\nimport \"./CreateEvent.css\";\nimport axios from \"axios\";\nimport NavMenu from \"../../NavBar/NavMenu\";\nimport UserNotFound from \"../ErrorPages/UserNotFound\";\n\nfunction CreateEvent(props) {\n  useEffect(() => {\n    function fetchData() {\n      fetch(\"http://localhost:8800/onGoingEvent\")\n        .then((response) => response.json())\n        .then((data) => {\n          array.push(...array);\n          array.push(data);\n        });\n      // console.log(req.data);\n      // setNewEvent(req.data);\n      // newEvent.map((event) => {\n      //   console.log(event.eventId)\n      //   props.setActiveEvents(event.eventId)\n      // })\n    }\n    fetchData();\n  });\n  useLayoutEffect(() => {\n    window.scrollTo(0, 0);\n  });\n  var array = [];\n\n  const [event, setEvent] = useState({\n    _id:\"\",\n    eventName: \"\",\n    orgBy: \"\",\n    desc: \"\",\n    createdBy:\"\",\n  });\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setEvent({\n      ...event,\n      [name]: value,\n      createdBy:props.user.email,\n    });\n    // setEvent({\n    //   ...event,\n    //   createdBy:props.user.email\n    // })\n  };\n\n  const join = () => {\n    \n    var url = Math.random().toString(36).substring(2, 12);\n    var code = Math.random().toString(36).substring(2, 7);\n    props.setLink({data:code})\n    // eventDB.findOne({eventId:url})\n    const Obj = {\n      eventName:event.eventName,\n      orgBy:event.orgBy,\n      desc:event.desc,\n      eventId:url,\n      createdBy:props.user.email,\n      hostCode:code\n    }\n    axios\n      .post(\"http://localhost:8800/onGoingEvent\", Obj)\n      .then((res) => {\n        console.log(\"Got Data\");\n        console.log(array);\n      });\n      \n      props.setEventInfo(Obj);\n      \n    window.open(\n      `/event/${url}`,\n      \"_blank\" // <- This is what makes it open in a new window.\n    );\n  };\n\n  return (\n    <div className=\"create-event\">\n      {props.user && props.user._id?(\n        <div>\n          <NavMenu user={props.user} setLoginUser={props.setLoginUser} />\n      <div className=\"create-event-main\">\n        <img\n          id=\"create-event-img\"\n          src=\"/CreateEventImages/CreateEvent.gif\"\n          alt=\"\"\n        />\n        <div className=\"create-form\">\n          <p id=\"create-form-heading\">Create An Event</p>\n          <input\n            id=\"event-name\"\n            type=\"text\"\n            name=\"eventName\"\n            value={event.eventName}\n            placeholder=\"Enter Event Name\"\n            onChange={handleChange}\n          />\n          <input\n            id=\"event-org\"\n            type=\"text\"\n            name=\"orgBy\"\n            value={event.orgBy}\n            placeholder=\"Organized By\"\n            onChange={handleChange}\n          />\n          <textarea\n            name=\"desc\"\n            value={event.desc}\n            id=\"event-description\"\n            cols=\"25\"\n            rows=\"10\"\n            placeholder=\"Enter Event Description\"\n            onChange={handleChange}\n          ></textarea>\n          <button id=\"create-button\" onClick={join}>\n            Create\n          </button>\n        </div>\n      </div>\n        </div>\n      ):(<UserNotFound/>)}\n      \n    </div>\n  );\n}\n\nexport default CreateEvent;\n","import React from \"react\";\nimport \"./JoinEvent.css\";\nimport NavMenu from \"../../NavBar/NavMenu\";\nimport UserNotFound from \"../ErrorPages/UserNotFound\";\nimport axios from 'axios'\n\nclass JoinEvent extends React.Component {\n\n  state = {\n    url: \"\",\n    activeEvents:[],\n  };\n\n  componentDidMount(){\n    fetch(\"http://localhost:8800/onGoingEvent\").then(response=> response.json()).then(result=>{\n        this.setState({\n          activeEvents:result\n        })\n      })\n  }\n\n  \n\n  handleChange = (e) => this.setState({ url: e.target.value });\n\n  // join = () => {\n  //   if (this.state.url !== \"\") {\n  //     var url = this.state.url.split(\"/\");\n  //     window.open(\n  //       `/${url[url.length - 1]}`,\n  //       '_blank' // <- This is what makes it open in a new window.\n  //     );\n  //   } else {\n  //     var url = Math.random().toString(36).substring(2, 17);\n  //     window.open(\n  //       `/${url}`,\n  //       '_blank' // <- This is what makes it open in a new window.\n  //     );\n  //   }\n  // };\n\n  // join = () => {\n  //   var url = this.state.url.split(\"/\");\n  //   console.log(url[url.length - 1]);\n  //   eventDB.findOne({ eventId: url[url.length - 1] }, (err, idExist) => {\n  //     if (idExist) {\n\n  //       window.open(\n  //         `/${url[url.length - 1]}`,\n  //         \"_blank\" // <- This is what makes it open in a new window.\n  //       );\n  //     } else {\n  //       console.log(\"found\")\n  //       alert(\"Wrong Event Code\");\n  //     }\n  //   });\n  // };\n\n  \n\n  join = () => {\n      var url = this.state.url.split(\"-\");\n      var value = \"\";\n      if(url.length>1){\n        this.state.activeEvents.forEach(function(e){\n          console.log(e._id)\n          if(url[1].toString().localeCompare(e.hostCode)===0){\n            value=url[url.length-1]\n          }\n        })\n        \n      }\n      this.props.setLink({data:value});\n      var found = false;\n      var currentEvent = {}\n      console.log(this.state.activeEvents);\n      this.state.activeEvents.forEach(function(ev){\n        if(url[0].toString().localeCompare(ev.eventId)===0){\n          found=true;\n          currentEvent=ev;\n        }\n      })\n      this.props.setEventInfo(currentEvent)\n\n      axios.post(\"http://localhost:8800/participant\",{\n        eventId:currentEvent.eventId,\n        hostCode:currentEvent.hostCode,\n        joinCode:url[0]+\"-\"+value,\n        email:this.props.user.email,\n        userId:this.props.user._id \n      }).then((res)=>{\n        console.log(\"Added Participant\");\n      }).catch((err)=>{\n        console.log(err);\n      })\n\n\n\n      if(found){\n        window.open(\n          `/event/${url[0]}`,\n          \"_blank\" // <- This is what makes it open in a new window.\n        );\n      }else{\n        alert(\"Wrong Event Code\")\n      } \n  };\n  render() {\n    return (\n      <div className=\"join-event\">\n        {this.props.user && this.props.user._id ? (\n          <div>\n            <NavMenu\n              user={this.props.user}\n              setLoginUser={this.props.setLoginUser}\n            />\n            <div className=\"event-container\">\n              <div className=\"event-text-container\">\n                {/* <p className=\"event-content\">\n            Video conference website that lets you stay in touch with all your\n            friends.\n          </p> */}\n                <img\n                  id=\"event-join-img\"\n                  src=\"/JoinEventImages/JoinEvent2.gif\"\n                  alt=\"\"\n                />\n              </div>\n\n              <div className=\"event-join-container\">\n                <h1 className=\"event-heading\">\n                  Join Event from Anywhere simply with a Event Code.\n                </h1>\n                <p className=\"event-content2\">Join Event</p>\n                <input\n                  id=\"event-url-input\"\n                  placeholder=\"Enter Event Code\"\n                  onChange={(e) => this.handleChange(e)}\n                />\n                <button id=\"event-join-button\" onClick={this.join}>\n                  Join\n                </button>\n              </div>\n            </div>\n          </div>\n        ) : (\n          <UserNotFound />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default JoinEvent;\n","import React, { useState } from \"react\";\nimport \"./Register.css\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport NavMenu from \"../../NavBar/NavMenu\";\n\nfunction Register(props) {\n  const navigate = useNavigate();\n\n  const [user, setUser] = useState({\n    name: \"\",\n    email: \"\",\n    password: \"\",\n    reEnterPassword: \"\",\n  });\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setUser({\n      ...user,\n      [name]: value,\n    });\n  };\n\n  const registerUser = () => {\n    const { name, email, password, reEnterPassword } = user;\n    if (name && email && password && password === reEnterPassword) {\n      axios.post(\"http://localhost:8800/register\", user).then((res) => {\n        navigate(\"/log-in\");\n      });\n    } else {\n      alert(\"invalid \");\n    }\n  };\n\n  return (\n    <div className=\"register\">\n      <NavMenu user={props.user} setLoginUser={props.setLoginUser} />\n      <div className=\"register-main-container\">\n        <div className=\"register-main\">\n          <div className=\"register-heading\">Register</div>\n          <div className=\"register-text-fields\">\n            <input\n              className=\"register-entry\"\n              name=\"name\"\n              value={user.name}\n              type=\"text\"\n              placeholder=\"Enter Name\"\n              onChange={handleChange}\n            />\n            <input\n              className=\"register-entry\"\n              name=\"email\"\n              value={user.email}\n              type=\"text\"\n              placeholder=\"Enter Email\"\n              onChange={handleChange}\n            />\n            <input\n              className=\"register-entry\"\n              name=\"password\"\n              value={user.password}\n              type=\"password\"\n              placeholder=\"Enter Password\"\n              onChange={handleChange}\n            />\n            <input\n              className=\"register-entry\"\n              name=\"reEnterPassword\"\n              value={user.reEnterPassword}\n              type=\"password\"\n              placeholder=\"Confirm Password\"\n              onChange={handleChange}\n            />\n          </div>\n          <div className=\"register-button\" onClick={registerUser}>\n            Submit\n          </div>\n          <Link className=\"register-already-user\" to=\"/log-in\">\n            Already have an Account? Login\n          </Link>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Register;\n","import React, { useState, useEffect } from \"react\";\nimport Video from \"./Video\";\nimport Messenger from \"./Components/Pages/Messenger/Messenger\"\nimport Features from \"./Components/Pages/Features\";\nimport Home from \"./Components/Pages/Home\";\nimport Thank from \"./Components/Pages/Thank/Thank\"\nimport Login from \"./Components/Pages/Login\";\nimport Premium from \"./Components/Pages/Premium\";\nimport CreateEvent from \"./Components/Pages/CreateEvent/CreateEvent\";\nimport JoinEvent from \"./Components/Pages/JoinEvent/JoinEvent\";\nimport Register from \"./Components/Pages/Register/Register\";\nimport Error404 from \"./Components/Pages/ErrorPages/Error404\"\nimport { BrowserRouter as Router, Routes, Route } from \"react-router-dom\";\nimport \"./App.css\";\n\nfunction App() {\n  const [user, setLoginUser] = useState({});\n  const [event,setEventInfo] = useState({});\n  const [Link,setLink] = useState({});\n\n  useEffect(() => {\n    const data = localStorage.getItem(\"User\");\n    const data2 = localStorage.getItem(\"Event\")\n    const data3 = localStorage.getItem(\"Code\")\n    setLoginUser(JSON.parse(data));\n    setEventInfo(JSON.parse(data2))\n    setLink(JSON.parse(data3))\n  }, []);\n  useEffect(() => {\n    localStorage.setItem(\"User\", JSON.stringify(user));\n    localStorage.setItem(\"Event\", JSON.stringify(event));\n    localStorage.setItem(\"Code\", JSON.stringify(Link));\n    // console.log(Link);\n  });\n  return (\n    <Router>\n      <div>\n        <Routes>\n          <Route\n            exact\n            path=\"/\"\n            element={<Home user={user} setLoginUser={setLoginUser} />}\n          />\n          <Route\n            path=\"/features\"\n            element={<Features user={user} setLoginUser={setLoginUser} />}\n          />\n          <Route\n            path=\"/messenger\"\n            element={<Messenger/>}\n          />\n          <Route\n            path=\"/create-event\"\n            element={<CreateEvent user={user} setLoginUser={setLoginUser} event={event} setEventInfo={setEventInfo} setLink={setLink}/>}\n          />\n          <Route\n            path=\"/premium\"\n            element={<Premium user={user} setLoginUser={setLoginUser} />}\n          />\n          <Route path=\"/event/:url\" element={<Video user={user} event={event} setEventInfo={setEventInfo} Link={Link} setLink={setLink}/>} />\n          <Route\n            path=\"/log-in\"\n            element={<Login user={user} setLoginUser={setLoginUser} />}\n          />\n          <Route\n            path=\"/join-event\"\n            element={<JoinEvent user={user} setLoginUser={setLoginUser} Link={Link} setLink={setLink} event={event} setEventInfo={setEventInfo}/>}\n          />\n          <Route\n            path=\"/register\"\n            element={<Register user={user} setLoginUser={setLoginUser} />}\n          />\n          <Route\n            path=\"/return-home\"\n            element={<Thank user={user} event={event} setEventInfo={setEventInfo}/>}\n          />\n          <Route\n            path=\"/page-not-found\"\n            element={<Error404/>}\n          />\n        </Routes>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n\twindow.location.hostname === 'localhost' ||\n\t// [::1] is the IPv6 localhost address.\n\twindow.location.hostname === '[::1]' ||\n\t// 127.0.0.0/8 are considered localhost for IPv4.\n\twindow.location.hostname.match(\n\t\t/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n\t)\n);\n\nexport function register(config) {\n\tif (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n\t\t// The URL constructor is available in all browsers that support SW.\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n\t\tif (publicUrl.origin !== window.location.origin) {\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\n\t\t\treturn;\n\t\t}\n\n\t\twindow.addEventListener('load', () => {\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n\t\t\tif (isLocalhost) {\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\n\t\t\t\tcheckValidServiceWorker(swUrl, config);\n\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\n\t\t\t\t// service worker/PWA documentation.\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\n\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t'This web app is being served cache-first by a service ' +\n\t\t\t\t\t\t'worker. To learn more, visit https://bit.ly/CRA-PWA'\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Is not localhost. Just register service worker\n\t\t\t\tregisterValidSW(swUrl, config);\n\t\t\t}\n\t\t});\n\t}\n}\n\nfunction registerValidSW(swUrl, config) {\n\tnavigator.serviceWorker\n\t\t.register(swUrl)\n\t\t.then(registration => {\n\t\t\tregistration.onupdatefound = () => {\n\t\t\t\tconst installingWorker = registration.installing;\n\t\t\t\tif (installingWorker == null) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tinstallingWorker.onstatechange = () => {\n\t\t\t\t\tif (installingWorker.state === 'installed') {\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\n\t\t\t\t\t\t\t// content until all client tabs are closed.\n\t\t\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\t\t'New content is available and will be used when all ' +\n\t\t\t\t\t\t\t\t'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// At this point, everything has been precached.\n\t\t\t\t\t\t\t// It's the perfect time to display a\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\n\t\t\t\t\t\t\tconsole.log('Content is cached for offline use.');\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\t\t})\n\t\t.catch(error => {\n\t\t\tconsole.error('Error during service worker registration:', error);\n\t\t});\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n\t// Check if the service worker can be found. If it can't reload the page.\n\tfetch(swUrl, {\n\t\theaders: { 'Service-Worker': 'script' },\n\t})\n\t\t.then(response => {\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\n\t\t\tconst contentType = response.headers.get('content-type');\n\t\t\tif (\n\t\t\t\tresponse.status === 404 ||\n\t\t\t\t(contentType != null && contentType.indexOf('javascript') === -1)\n\t\t\t) {\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\n\t\t\t\tnavigator.serviceWorker.ready.then(registration => {\n\t\t\t\t\tregistration.unregister().then(() => {\n\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Service worker found. Proceed as normal.\n\t\t\t\tregisterValidSW(swUrl, config);\n\t\t\t}\n\t\t})\n\t\t.catch(() => {\n\t\t\tconsole.log(\n\t\t\t\t'No internet connection found. App is running in offline mode.'\n\t\t\t);\n\t\t});\n}\n\nexport function unregister() {\n\tif ('serviceWorker' in navigator) {\n\t\tnavigator.serviceWorker.ready\n\t\t\t.then(registration => {\n\t\t\t\tregistration.unregister();\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconsole.error(error.message);\n\t\t\t});\n\t}\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n\t<App />,\n\tdocument.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister(); \n "],"sourceRoot":""}